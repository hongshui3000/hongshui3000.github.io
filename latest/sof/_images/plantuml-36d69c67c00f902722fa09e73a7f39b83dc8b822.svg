<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="551px" preserveAspectRatio="none" style="width:929px;height:551px;" version="1.1" viewBox="0 0 929 551" width="929px" zoomAndPan="magnify"><defs><filter height="300%" id="f1rklastsoraje" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#6FCCDD" height="529.1958" style="stroke: #A1A1CA; stroke-width: 1.0;" width="324" x="225" y="4"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="93" x="340.5" y="18.8979">boot_ldr @IMR</text><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="407.3213" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="282" y="122.8745"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="298.3037" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="518" y="231.8921"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="135.2632" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="523" y="394.9326"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="58.7544" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="755" y="471.4414"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="14" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="760" y="516.1958"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="64.5317" style="stroke: #A1A1CA; stroke-width: 2.0;" width="427" x="491" y="291.6465"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="27" x2="27" y1="89.1201" y2="539.1958"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="287" x2="287" y1="89.1201" y2="539.1958"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="523" x2="523" y1="89.1201" y2="539.1958"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="759.5" x2="759.5" y1="89.1201" y2="539.1958"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="8" y="86.0439">ROM</text><ellipse cx="27" cy="13" fill="#FFFFFF" filter="url(#f1rklastsoraje)" rx="8" ry="8" style="stroke: #33335B; stroke-width: 2.0;"/><path d="M27,21 L27,48 M14,29 L40,29 M27,48 L14,63 M27,48 L40,63 " fill="none" filter="url(#f1rklastsoraje)" style="stroke: #33335B; stroke-width: 2.0;"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="33.1201" style="stroke: #33335B; stroke-width: 1.5;" width="112" x="229" y="51"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="236" y="74.0439">.boot_entry.text</text><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="33.1201" style="stroke: #33335B; stroke-width: 1.5;" width="40" x="501" y="51"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="508" y="74.0439">.text</text><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="33.1201" style="stroke: #33335B; stroke-width: 1.5;" width="33" x="741.5" y="51"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="19" x="748.5" y="74.0439">sof</text><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="407.3213" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="282" y="122.8745"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="298.3037" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="518" y="231.8921"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="135.2632" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="523" y="394.9326"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="58.7544" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="755" y="471.4414"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="14" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="760" y="516.1958"/><polygon fill="#4A4A86" points="270,118.8745,280,122.8745,270,126.8745,274,122.8745" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="27" x2="276" y1="122.8745" y2="122.8745"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="34" y="118.0181">boot_entry() @boot_ldr.ep (boot_entry.S)</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="292" x2="334" y1="170.8833" y2="170.8833"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="334" x2="334" y1="170.8833" y2="183.8833"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="293" x2="334" y1="183.8833" y2="183.8833"/><polygon fill="#4A4A86" points="303,179.8833,293,183.8833,303,187.8833,299,183.8833" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="299" y="166.0269">j boot_init:</text><path d="M371,135.8745 L371,198.8745 L643,198.8745 L643,145.8745 L633,135.8745 L371,135.8745 " fill="#F6ED80" filter="url(#f1rklastsoraje)" style="stroke: #D6D6DE; stroke-width: 1.0;"/><path d="M633,135.8745 L633,145.8745 L643,145.8745 L633,135.8745 " fill="#F6ED80" style="stroke: #D6D6DE; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="377" y="155.7725">Platform specific actions (compilation flags)</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="377" y="173.5269">- reset MHE</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="377" y="191.2813">- disable L2$</text><polygon fill="#4A4A86" points="506,227.8921,516,231.8921,506,235.8921,510,231.8921" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="292" x2="512" y1="231.8921" y2="231.8921"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="299" y="227.0356">call8 boot_pri_core() (boot_loader.c)</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="528" x2="570" y1="263.6465" y2="263.6465"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="570" x2="570" y1="263.6465" y2="276.6465"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="529" x2="570" y1="276.6465" y2="276.6465"/><polygon fill="#4A4A86" points="539,272.6465,529,276.6465,539,280.6465,535,276.6465" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="535" y="258.79">hp_sram_init()</text><path d="M491,291.6465 L556,291.6465 L556,300.6465 L546,310.6465 L491,310.6465 L491,291.6465 " fill="#EEEEEE" style="stroke: #A1A1CA; stroke-width: 1.0;"/><rect fill="none" height="64.5317" style="stroke: #A1A1CA; stroke-width: 2.0;" width="427" x="491" y="291.6465"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="20" x="506" y="307.5444">opt</text><text fill="#33335B" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="183" x="571" y="306.2524">[defined(CONFIG_BOOT_LOADER)]</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="528" x2="570" y1="335.1782" y2="335.1782"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="570" x2="570" y1="335.1782" y2="348.1782"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="529" x2="570" y1="348.1782" y2="348.1782"/><polygon fill="#4A4A86" points="539,344.1782,529,348.1782,539,352.1782,535,348.1782" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="535" y="330.3218">parse_manifest()</text><path d="M643,317.9238 L643,344.9238 L894,344.9238 L894,327.9238 L884,317.9238 L643,317.9238 " fill="#F6ED80" filter="url(#f1rklastsoraje)" style="stroke: #D6D6DE; stroke-width: 1.0;"/><path d="M884,317.9238 L884,327.9238 L894,327.9238 L884,317.9238 " fill="#F6ED80" style="stroke: #D6D6DE; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="649" y="337.8218">copying of FW IMR -&gt; SRAM done here</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="528" x2="575" y1="381.9326" y2="381.9326"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="575" x2="575" y1="381.9326" y2="394.9326"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="534" x2="575" y1="394.9326" y2="394.9326"/><polygon fill="#4A4A86" points="544,390.9326,534,394.9326,544,398.9326,540,394.9326" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="540" y="377.0762">_ResetVector()</text><polygon fill="#4A4A86" points="748,427.687,758,431.687,748,435.687,752,431.687" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="533" x2="754" y1="431.687" y2="431.687"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="540" y="426.8306">_MainEntry() @SOF_TEXT_START</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="760" x2="807" y1="458.4414" y2="458.4414"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="807" x2="807" y1="458.4414" y2="471.4414"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="766" x2="807" y1="471.4414" y2="471.4414"/><polygon fill="#4A4A86" points="776,467.4414,766,471.4414,776,475.4414,772,471.4414" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="772" y="453.585">call0 _start</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="765" x2="812" y1="503.1958" y2="503.1958"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="812" x2="812" y1="503.1958" y2="516.1958"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="771" x2="812" y1="516.1958" y2="516.1958"/><polygon fill="#4A4A86" points="781,512.1958,771,516.1958,781,520.1958,777,516.1958" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="777" y="498.3394">call main</text><!--MD5=[0f0cd1f3820c6fb2612b3eea858ccdea]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}
actor "ROM" as rom
box "boot_ldr @IMR" #6fccdd
	participant ".boot_entry.text" as bup_be
	participant ".text" as bup
end box
participant "sof" as fw

rom -> bup_be : boot_entry() @boot_ldr.ep (boot_entry.S)
	activate bup_be
	bup_be -> bup_be : j boot_init:
	note right: Platform specific actions (compilation flags)\n- reset MHE\n- disable L2$
	bup_be -> bup : call8 boot_pri_core() (boot_loader.c)
		activate bup
		bup -> bup : hp_sram_init()
		opt defined(CONFIG_BOOT_LOADER)
			bup -> bup : parse_manifest()
			note right: copying of FW IMR -> SRAM done here
		end

	bup -> bup : _ResetVector()
		activate bup
		bup -> fw : _MainEntry() @SOF_TEXT_START
			fw -> fw : call0 _start
				activate fw
				fw -> fw : call main
					activate fw

@enduml

PlantUML version 1.2019.12(Sun Nov 03 18:24:54 CST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_321-b07
Operating System: Windows 10
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>