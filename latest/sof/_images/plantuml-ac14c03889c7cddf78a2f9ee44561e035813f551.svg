<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="501px" preserveAspectRatio="none" style="width:623px;height:501px;" version="1.1" viewBox="0 0 623 501" width="623px" zoomAndPan="magnify"><defs><filter height="300%" id="f6zt14iukauem" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[09acfa745e828315b550bb1a630bf02b]
class lib--><rect fill="#FFFFFF" filter="url(#f6zt14iukauem)" height="70.0459" id="lib" style="stroke: #33335B; stroke-width: 1.5;" width="242" x="370.5" y="45.5"/><ellipse cx="480.75" cy="61.5" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M479.3281,66.8594 Q477.4688,66.8594 476.375,65.4688 Q475.2813,64.0781 475.2813,61.0938 Q475.2813,58.5625 476.4453,56.9063 Q477.6094,55.25 479.5938,55.25 Q481.0625,55.25 481.5313,55.375 Q482,55.5781 482,55.5781 Q482,55.5781 482,55.5078 Q482,55.4375 482.6094,54.5156 L483.6563,58.1719 L482.3281,58.5781 Q481.8594,57.0313 481.1953,56.3672 Q480.5313,55.7031 479.4688,55.7031 Q479.0781,55.7031 478.3125,57.2344 Q477.5469,58.7656 477.5469,61.0156 Q477.5469,63.4844 478.2109,64.875 Q478.875,66.2656 479.4063,66.2656 Q480.4688,66.2656 481.2266,65.5 Q481.9844,64.7344 482.3281,63.0781 L483.6563,63.6719 Q483.3281,65.0781 482.4297,65.9688 Q481.5313,66.8594 479.3281,66.8594 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="13" x="501.25" y="67.0576">lib</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="371.5" x2="611.5" y1="77.5" y2="77.5"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="376.5" y="94.106">struct dai *dai_get(uint32_t type, uint32_t index)</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="376.5" y="109.1289">dai_put(struct dai*)</text><!--MD5=[570a1701eb5cfa26f256311848a0b50a]
class dai_ops--><rect fill="#FFFFFF" filter="url(#f6zt14iukauem)" height="145.1606" id="dai_ops" style="stroke: #33335B; stroke-width: 1.5;" width="117" x="6" y="8"/><ellipse cx="39" cy="24" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M37.5781,29.3594 Q35.7188,29.3594 34.625,27.9688 Q33.5313,26.5781 33.5313,23.5938 Q33.5313,21.0625 34.6953,19.4063 Q35.8594,17.75 37.8438,17.75 Q39.3125,17.75 39.7813,17.875 Q40.25,18.0781 40.25,18.0781 Q40.25,18.0781 40.25,18.0078 Q40.25,17.9375 40.8594,17.0156 L41.9063,20.6719 L40.5781,21.0781 Q40.1094,19.5313 39.4453,18.8672 Q38.7813,18.2031 37.7188,18.2031 Q37.3281,18.2031 36.5625,19.7344 Q35.7969,21.2656 35.7969,23.5156 Q35.7969,25.9844 36.4609,27.375 Q37.125,28.7656 37.6563,28.7656 Q38.7188,28.7656 39.4766,28 Q40.2344,27.2344 40.5781,25.5781 L41.9063,26.1719 Q41.5781,27.5781 40.6797,28.4688 Q39.7813,29.3594 37.5781,29.3594 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="45" x="57" y="29.5576">dai_ops</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="7" x2="122" y1="40" y2="40"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="12" y="56.606">set_config()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="12" y="71.6289">trigger()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="12" y="86.6519">pm_context_restore()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="12" y="101.6748">pm_context_store()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="12" y="116.6978">probe()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="12" y="131.7207">remove()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="12" y="146.7437">set_loopback_mode()</text><!--MD5=[751252ede398c8a0e54cd79ea3766d55]
class s_dai--><rect fill="#FFFFFF" filter="url(#f6zt14iukauem)" height="115.1147" id="s_dai" style="stroke: #33335B; stroke-width: 1.5;" width="129" x="158" y="23"/><ellipse cx="194.15" cy="39" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M192.7281,44.3594 Q190.8688,44.3594 189.775,42.9688 Q188.6813,41.5781 188.6813,38.5938 Q188.6813,36.0625 189.8453,34.4063 Q191.0094,32.75 192.9938,32.75 Q194.4625,32.75 194.9313,32.875 Q195.4,33.0781 195.4,33.0781 Q195.4,33.0781 195.4,33.0078 Q195.4,32.9375 196.0094,32.0156 L197.0563,35.6719 L195.7281,36.0781 Q195.2594,34.5313 194.5953,33.8672 Q193.9313,33.2031 192.8688,33.2031 Q192.4781,33.2031 191.7125,34.7344 Q190.9469,36.2656 190.9469,38.5156 Q190.9469,40.9844 191.6109,42.375 Q192.275,43.7656 192.8063,43.7656 Q193.8688,43.7656 194.6266,43 Q195.3844,42.2344 195.7281,40.5781 L197.0563,41.1719 Q196.7281,42.5781 195.8297,43.4688 Q194.9313,44.3594 192.7281,44.3594 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="50" x="212.85" y="44.5576">struct dai</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="159" x2="286" y1="55" y2="55"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="164" y="71.606">type : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="164" y="86.6289">index : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="164" y="101.6519">plat_data : dai_plat_data</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="164" y="116.6748">ops : const dai_ops *</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="164" y="131.6978">private : void *</text><!--MD5=[587096e0c81becf1c3c772256578bbb1]
class s_dai_plat_data--><rect fill="#FFFFFF" filter="url(#f6zt14iukauem)" height="100.0918" id="s_dai_plat_data" style="stroke: #33335B; stroke-width: 1.5;" width="166" x="139.5" y="214"/><ellipse cx="166.2" cy="230" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M164.7781,235.3594 Q162.9188,235.3594 161.825,233.9688 Q160.7313,232.5781 160.7313,229.5938 Q160.7313,227.0625 161.8953,225.4063 Q163.0594,223.75 165.0438,223.75 Q166.5125,223.75 166.9813,223.875 Q167.45,224.0781 167.45,224.0781 Q167.45,224.0781 167.45,224.0078 Q167.45,223.9375 168.0594,223.0156 L169.1063,226.6719 L167.7781,227.0781 Q167.3094,225.5313 166.6453,224.8672 Q165.9813,224.2031 164.9188,224.2031 Q164.5281,224.2031 163.7625,225.7344 Q162.9969,227.2656 162.9969,229.5156 Q162.9969,231.9844 163.6609,233.375 Q164.325,234.7656 164.8563,234.7656 Q165.9188,234.7656 166.6766,234 Q167.4344,233.2344 167.7781,231.5781 L169.1063,232.1719 Q168.7781,233.5781 167.8797,234.4688 Q166.9813,235.3594 164.7781,235.3594 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="182.8" y="235.5576">struct dai_plat_data</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="140.5" x2="304.5" y1="246" y2="246"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="145.5" y="262.606">base : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="145.5" y="277.6289">irq : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="145.5" y="292.6519">flags : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="145.5" y="307.6748">fifo : struct dai_plat_fifo_data[2]</text><!--MD5=[416c15d8e20a93251a9cf90ec810b71c]
class s_dai_plat_fifo_data--><rect fill="#FFFFFF" filter="url(#f6zt14iukauem)" height="115.1147" id="s_dai_plat_fifo_data" style="stroke: #33335B; stroke-width: 1.5;" width="163" x="141" y="375"/><ellipse cx="156" cy="391" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M154.5781,396.3594 Q152.7188,396.3594 151.625,394.9688 Q150.5313,393.5781 150.5313,390.5938 Q150.5313,388.0625 151.6953,386.4063 Q152.8594,384.75 154.8438,384.75 Q156.3125,384.75 156.7813,384.875 Q157.25,385.0781 157.25,385.0781 Q157.25,385.0781 157.25,385.0078 Q157.25,384.9375 157.8594,384.0156 L158.9063,387.6719 L157.5781,388.0781 Q157.1094,386.5313 156.4453,385.8672 Q155.7813,385.2031 154.7188,385.2031 Q154.3281,385.2031 153.5625,386.7344 Q152.7969,388.2656 152.7969,390.5156 Q152.7969,392.9844 153.4609,394.375 Q154.125,395.7656 154.6563,395.7656 Q155.7188,395.7656 156.4766,395 Q157.2344,394.2344 157.5781,392.5781 L158.9063,393.1719 Q158.5781,394.5781 157.6797,395.4688 Q156.7813,396.3594 154.5781,396.3594 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="131" x="170" y="396.5576">struct dai_plat_fifo_data</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="142" x2="303" y1="407" y2="407"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="147" y="423.606">offset : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="147" y="438.6289">width : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="147" y="453.6519">depth : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="147" y="468.6748">watermark : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="147" y="483.6978">handshake : uint32_t</text><!--MD5=[89617fca4412802b3d8579cdec6d967f]
link dai_ops to s_dai--><path d="M123.13,80.5 C134.65,80.5 146.16,80.5 157.68,80.5 " fill="none" id="dai_ops-s_dai" style="stroke: #4A4A86; stroke-width: 1.0;"/><!--MD5=[398ffa89781d162df80bb67ef42fac72]
link s_dai to s_dai_plat_data--><path d="M222.5,138.43 C222.5,162.65 222.5,190.63 222.5,213.92 " fill="none" id="s_dai-s_dai_plat_data" style="stroke: #4A4A86; stroke-width: 1.0;"/><!--MD5=[566e0bc63cdae3dabcd15db279e1fcfb]
link s_dai_plat_data to s_dai_plat_fifo_data--><path d="M222.5,314.05 C222.5,333.14 222.5,355.14 222.5,374.89 " fill="none" id="s_dai_plat_data-s_dai_plat_fifo_data" style="stroke: #4A4A86; stroke-width: 1.0;"/><!--MD5=[6198e08fb7de4ef2e367ec55191da5c6]
reverse link s_dai to lib--><path d="M292.32,80.5 C316.22,80.5 343.69,80.5 370.45,80.5 " fill="none" id="s_dai&lt;-lib" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="287.27,80.5,296.27,84.5,292.27,80.5,296.27,76.5,287.27,80.5" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="305.25" y="74.3979">provides</text><!--MD5=[e2e73991c8fb1521e12af3b5f31e4709]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}
class lib {
   struct dai *dai_get(uint32_t type, uint32_t index)
   dai_put(struct dai*)
}
hide lib attributes

class dai_ops {
   set_config()
   trigger()
   pm_context_restore()
   pm_context_store()
   probe()
   remove()
   set_loopback_mode()
}
hide dai_ops attributes

class "struct dai" as s_dai {
   type : uint32_t
   index : uint32_t
   plat_data : dai_plat_data
   ops : const dai_ops *
   private : void *
}
hide s_dai methods

class "struct dai_plat_data" as s_dai_plat_data {
   base : uint32_t
   irq : uint32_t
   flags : uint32_t
   fifo : struct dai_plat_fifo_data[2]
}
hide s_dai_plat_data methods

class "struct dai_plat_fifo_data" as s_dai_plat_fifo_data {
   offset : uint32_t
   width : uint32_t
   depth : uint32_t
   watermark : uint32_t
   handshake : uint32_t
}
hide s_dai_plat_fifo_data methods

dai_ops - s_dai
s_dai - - s_dai_plat_data
s_dai_plat_data - - s_dai_plat_fifo_data
s_dai <- lib : provides

@enduml

PlantUML version 1.2019.12(Sun Nov 03 18:24:54 CST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_321-b07
Operating System: Windows 10
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>