<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="332.2782px" preserveAspectRatio="none" style="width:808px;height:332px;" version="1.1" viewBox="0 0 808 332" width="808.0576px" zoomAndPan="magnify"><defs><filter height="300%" id="fy5jyz3fg5kf2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.5347721822541966"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.0695443645083933" dy="3.0695443645083933" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="87.8725" style="stroke: #F05772; stroke-width: 0.7673860911270983;" width="7.6739" x="327.2902" y="57.4577"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="77.708" style="stroke: #F05772; stroke-width: 0.7673860911270983;" width="7.6739" x="327.2902" y="204.8093"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="48.9242" style="stroke: #F05772; stroke-width: 0.7673860911270983;" width="7.6739" x="564.4125" y="85.6625"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="24.3679" style="stroke: #F05772; stroke-width: 0.7673860911270983;" width="7.6739" x="564.4125" y="229.1772"/><line style="stroke: #F05772; stroke-width: 0.7673860911270983; stroke-dasharray: 5.0,5.0;" x1="27.6259" x2="27.6259" y1="31.555" y2="323.1887"/><line style="stroke: #F05772; stroke-width: 0.7673860911270983; stroke-dasharray: 5.0,5.0;" x1="120.4796" x2="120.4796" y1="31.555" y2="323.1887"/><line style="stroke: #F05772; stroke-width: 0.7673860911270983; stroke-dasharray: 5.0,5.0;" x1="189.5444" x2="189.5444" y1="31.555" y2="323.1887"/><line style="stroke: #F05772; stroke-width: 0.7673860911270983; stroke-dasharray: 5.0,5.0;" x1="330.7434" x2="330.7434" y1="31.555" y2="323.1887"/><line style="stroke: #F05772; stroke-width: 0.7673860911270983; stroke-dasharray: 5.0,5.0;" x1="567.8657" x2="567.8657" y1="31.555" y2="323.1887"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="25.4159" style="stroke: #33335B; stroke-width: 1.1510791366906474;" width="39.9041" x="6.1391" y="2.3022"/><text fill="#33335B" font-family="sans-serif" font-size="10.7434" lengthAdjust="spacingAndGlyphs" textLength="29.1607" x="11.5108" y="19.9858">Driver</text><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="25.4159" style="stroke: #33335B; stroke-width: 1.1510791366906474;" width="24.5564" x="106.6667" y="2.3022"/><text fill="#33335B" font-family="sans-serif" font-size="10.7434" lengthAdjust="spacingAndGlyphs" textLength="13.8129" x="112.0384" y="19.9858">ipc</text><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="25.4159" style="stroke: #33335B; stroke-width: 1.1510791366906474;" width="92.8537" x="141.9664" y="2.3022"/><text fill="#33335B" font-family="sans-serif" font-size="10.7434" lengthAdjust="spacingAndGlyphs" textLength="82.1103" x="147.3381" y="19.9858">master-core-task</text><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="25.4159" style="stroke: #33335B; stroke-width: 1.1510791366906474;" width="49.8801" x="304.6523" y="2.3022"/><text fill="#33335B" font-family="sans-serif" font-size="10.7434" lengthAdjust="spacingAndGlyphs" textLength="39.1367" x="310.024" y="19.9858">platform</text><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="25.4159" style="stroke: #33335B; stroke-width: 1.1510791366906474;" width="65.2278" x="534.1007" y="2.3022"/><text fill="#33335B" font-family="sans-serif" font-size="10.7434" lengthAdjust="spacingAndGlyphs" textLength="54.4844" x="539.4724" y="19.9858">pm-runtime</text><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="87.8725" style="stroke: #F05772; stroke-width: 0.7673860911270983;" width="7.6739" x="327.2902" y="57.4577"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="77.708" style="stroke: #F05772; stroke-width: 0.7673860911270983;" width="7.6739" x="327.2902" y="204.8093"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="48.9242" style="stroke: #F05772; stroke-width: 0.7673860911270983;" width="7.6739" x="564.4125" y="85.6625"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="24.3679" style="stroke: #F05772; stroke-width: 0.7673860911270983;" width="7.6739" x="564.4125" y="229.1772"/><polygon fill="#4A4A86" points="318.0815,54.3881,325.7554,57.4577,318.0815,60.5272,321.1511,57.4577" style="stroke: #4A4A86; stroke-width: 0.7673860911270983;"/><line style="stroke: #4A4A86; stroke-width: 0.7673860911270983;" x1="189.9281" x2="322.6859" y1="57.4577" y2="57.4577"/><text fill="#33335B" font-family="sans-serif" font-size="9.976" lengthAdjust="spacingAndGlyphs" textLength="59.8561" x="195.2998" y="53.7309">platform_init()</text><polygon fill="#4A4A86" points="555.2038,82.5929,562.8777,85.6625,555.2038,88.732,558.2734,85.6625" style="stroke: #4A4A86; stroke-width: 0.7673860911270983;"/><line style="stroke: #4A4A86; stroke-width: 0.7673860911270983;" x1="334.964" x2="559.8082" y1="85.6625" y2="85.6625"/><text fill="#33335B" font-family="sans-serif" font-size="9.976" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="207.9616" x="343.4053" y="81.9357">pm_runtime_disable(PM_RUNTIME_DSP, 0)</text><path d="M575.5396,67.4337 L575.5396,88.1531 L798.8489,88.1531 L798.8489,75.1075 L791.1751,67.4337 L575.5396,67.4337 " fill="#F6ED80" filter="url(#fy5jyz3fg5kf2)" style="stroke: #D6D6DE; stroke-width: 0.7673860911270983;"/><path d="M791.1751,67.4337 L791.1751,75.1075 L798.8489,75.1075 L791.1751,67.4337 " fill="#F6ED80" style="stroke: #D6D6DE; stroke-width: 0.7673860911270983;"/><text fill="#33335B" font-family="sans-serif" font-size="9.976" lengthAdjust="spacingAndGlyphs" textLength="207.1942" x="580.1439" y="82.7031">Make latency of dsp core 0 int handler minimal</text><line style="stroke: #4A4A86; stroke-width: 0.7673860911270983;" x1="572.0863" x2="604.3165" y1="113.8673" y2="113.8673"/><line style="stroke: #4A4A86; stroke-width: 0.7673860911270983;" x1="604.3165" x2="604.3165" y1="113.8673" y2="123.8433"/><line style="stroke: #4A4A86; stroke-width: 0.7673860911270983;" x1="572.8537" x2="604.3165" y1="123.8433" y2="123.8433"/><polygon fill="#4A4A86" points="580.5276,120.7738,572.8537,123.8433,580.5276,126.9128,577.458,123.8433" style="stroke: #4A4A86; stroke-width: 0.7673860911270983;"/><text fill="#33335B" font-family="sans-serif" font-size="9.976" lengthAdjust="spacingAndGlyphs" textLength="42.2062" x="577.458" y="110.1405">ref_cnt++</text><path d="M628.4892,100.6265 L628.4892,121.3459 L670.6954,121.3459 L670.6954,108.3004 L663.0216,100.6265 L628.4892,100.6265 " fill="#F6ED80" filter="url(#fy5jyz3fg5kf2)" style="stroke: #D6D6DE; stroke-width: 0.7673860911270983;"/><path d="M663.0216,100.6265 L663.0216,108.3004 L670.6954,108.3004 L663.0216,100.6265 " fill="#F6ED80" style="stroke: #D6D6DE; stroke-width: 0.7673860911270983;"/><text fill="#33335B" font-family="sans-serif" font-size="9.976" lengthAdjust="spacingAndGlyphs" textLength="26.0911" x="633.0935" y="115.8959">0 -&gt; 1</text><polygon fill="#4A4A86" points="343.4053,131.5172,335.7314,134.5867,343.4053,137.6563,340.3357,134.5867" style="stroke: #4A4A86; stroke-width: 0.7673860911270983;"/><line style="stroke: #4A4A86; stroke-width: 0.7673860911270983; stroke-dasharray: 2.0,2.0;" x1="338.801" x2="567.482" y1="134.5867" y2="134.5867"/><polygon fill="#4A4A86" points="198.3693,142.2606,190.6954,145.3301,198.3693,148.3997,195.2998,145.3301" style="stroke: #4A4A86; stroke-width: 0.7673860911270983;"/><line style="stroke: #4A4A86; stroke-width: 0.7673860911270983; stroke-dasharray: 2.0,2.0;" x1="193.765" x2="330.3597" y1="145.3301" y2="145.3301"/><polygon fill="#4A4A86" points="111.271,166.6284,118.9448,169.698,111.271,172.7675,114.3405,169.698" style="stroke: #4A4A86; stroke-width: 0.7673860911270983;"/><line style="stroke: #4A4A86; stroke-width: 0.7673860911270983;" x1="27.6259" x2="115.8753" y1="169.698" y2="169.698"/><text fill="#33335B" font-family="sans-serif" font-size="9.976" lengthAdjust="spacingAndGlyphs" textLength="74.4365" x="32.9976" y="165.9712">building topology</text><polygon fill="#4A4A86" points="180.7194,177.3719,188.3933,180.4414,180.7194,183.5109,183.789,180.4414" style="stroke: #4A4A86; stroke-width: 0.7673860911270983;"/><line style="stroke: #4A4A86; stroke-width: 0.7673860911270983;" x1="120.4796" x2="185.3237" y1="180.4414" y2="180.4414"/><polygon fill="#4A4A86" points="318.0815,201.7397,325.7554,204.8093,318.0815,207.8788,321.1511,204.8093" style="stroke: #4A4A86; stroke-width: 0.7673860911270983;"/><line style="stroke: #4A4A86; stroke-width: 0.7673860911270983;" x1="189.9281" x2="322.6859" y1="204.8093" y2="204.8093"/><text fill="#33335B" font-family="sans-serif" font-size="9.976" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="122.7818" x="195.2998" y="201.0825">platform_wait_for_interrupt()</text><polygon fill="#4A4A86" points="555.2038,226.1076,562.8777,229.1772,555.2038,232.2467,558.2734,229.1772" style="stroke: #4A4A86; stroke-width: 0.7673860911270983;"/><line style="stroke: #4A4A86; stroke-width: 0.7673860911270983;" x1="334.964" x2="559.8082" y1="229.1772" y2="229.1772"/><text fill="#33335B" font-family="sans-serif" font-size="9.976" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="214.8681" x="340.3357" y="225.4504">pm_runtime_is_active(PM_RUNTIME_DSP, 0)</text><polygon fill="#4A4A86" points="343.4053,250.4755,335.7314,253.545,343.4053,256.6146,340.3357,253.545" style="stroke: #4A4A86; stroke-width: 0.7673860911270983;"/><line style="stroke: #4A4A86; stroke-width: 0.7673860911270983; stroke-dasharray: 2.0,2.0;" x1="338.801" x2="567.482" y1="253.545" y2="253.545"/><text fill="#33335B" font-family="sans-serif" font-size="9.976" lengthAdjust="spacingAndGlyphs" textLength="16.8825" x="348.0096" y="249.8183">true</text><line style="stroke: #4A4A86; stroke-width: 0.7673860911270983;" x1="334.964" x2="367.1942" y1="281.7499" y2="281.7499"/><line style="stroke: #4A4A86; stroke-width: 0.7673860911270983;" x1="367.1942" x2="367.1942" y1="281.7499" y2="291.7259"/><line style="stroke: #4A4A86; stroke-width: 0.7673860911270983;" x1="331.1271" x2="367.1942" y1="291.7259" y2="291.7259"/><polygon fill="#4A4A86" points="338.801,288.6563,331.1271,291.7259,338.801,294.7954,335.7314,291.7259" style="stroke: #4A4A86; stroke-width: 0.7673860911270983;"/><text fill="#33335B" font-family="sans-serif" font-size="9.976" lengthAdjust="spacingAndGlyphs" textLength="54.4844" x="340.3357" y="278.0231">d0-idle state</text><polygon fill="#4A4A86" points="128.9209,295.5628,121.247,298.6323,128.9209,301.7019,125.8513,298.6323" style="stroke: #4A4A86; stroke-width: 0.7673860911270983;"/><line style="stroke: #4A4A86; stroke-width: 0.7673860911270983; stroke-dasharray: 2.0,2.0;" x1="124.3165" x2="189.1607" y1="298.6323" y2="298.6323"/><polygon fill="#4A4A86" points="36.0671,306.3062,28.3933,309.3757,36.0671,312.4453,32.9976,309.3757" style="stroke: #4A4A86; stroke-width: 0.7673860911270983;"/><line style="stroke: #4A4A86; stroke-width: 0.7673860911270983; stroke-dasharray: 2.0,2.0;" x1="31.4628" x2="119.7122" y1="309.3757" y2="309.3757"/><!--MD5=[7b8ad63e134f5331cf5b76d204ea51b2]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}
scale max 800 width

participant drv as "Driver"
participant ipc
participant mct as "master-core-task"
participant platform
participant pm_rt as "pm-runtime"

mct -> platform : platform_init()
   activate platform

   platform -> pm_rt :<b> pm_runtime_disable(PM_RUNTIME_DSP, 0)</b>
      activate pm_rt
      note right: Make latency of dsp core 0 int handler minimal
      pm_rt -> pm_rt : ref_cnt++
         note right: 0 -> 1
   platform <- - pm_rt
   deactivate pm_rt

mct <- - platform
deactivate platform

drv -> ipc : building topology
   ipc -> mct
      mct -> platform : <i>platform_wait_for_interrupt()</i>
         activate platform
         platform -> pm_rt : <b>pm_runtime_is_active(PM_RUNTIME_DSP, 0)</b>
            activate pm_rt
         platform <- - pm_rt : true
         deactivate pm_rt
         platform -> platform : d0-idle state
         deactivate platform
   ipc <- - mct
drv <- - ipc

@enduml

PlantUML version 1.2019.12(Sun Nov 03 18:24:54 CST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_321-b07
Operating System: Windows 10
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>