<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1554px" preserveAspectRatio="none" style="width:1017px;height:1554px;" version="1.1" viewBox="0 0 1017 1554" width="1017px" zoomAndPan="magnify"><defs><filter height="300%" id="f1461knpy0rtlu" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="33" x2="33" y1="60.2402" y2="1542.1704"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="94" x2="94" y1="60.2402" y2="1542.1704"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="157" x2="157" y1="60.2402" y2="1542.1704"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="601" x2="601" y1="60.2402" y2="1542.1704"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="977" x2="977" y1="60.2402" y2="1542.1704"/><rect fill="#FFFFFF" filter="url(#f1461knpy0rtlu)" height="33.1201" style="stroke: #33335B; stroke-width: 1.5;" width="47" x="8" y="22.1201"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="15" y="45.1641">State</text><rect fill="#FFFFFF" filter="url(#f1461knpy0rtlu)" height="33.1201" style="stroke: #33335B; stroke-width: 1.5;" width="46" x="69" y="22.1201"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="76" y="45.1641">Error</text><rect fill="#FFFFFF" filter="url(#f1461knpy0rtlu)" height="52.2402" style="stroke: #33335B; stroke-width: 1.5;" width="52" x="129" y="3"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="141" y="26.0439">Host</text><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="136" y="45.1641">Driver</text><rect fill="#FFFFFF" filter="url(#f1461knpy0rtlu)" height="52.2402" style="stroke: #33335B; stroke-width: 1.5;" width="46" x="576" y="3"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="586" y="26.0439">APL</text><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="583" y="45.1641">ROM</text><rect fill="#FFFFFF" filter="url(#f1461knpy0rtlu)" height="33.1201" style="stroke: #33335B; stroke-width: 1.5;" width="42" x="954" y="22.1201"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="961" y="45.1641">CSE</text><polygon fill="#4A4A86" points="589,89.9946,599,93.9946,589,97.9946,593,93.9946" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="157" x2="595" y1="93.9946" y2="93.9946"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="164" y="89.1382">&lt;&lt;IPC&gt;&gt; RomControl (purge=1, dma_id)</text><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1002" x="3" y="123.8718"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1005" y1="123.8718" y2="123.8718"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1005" y1="126.8718" y2="126.8718"/><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="25.7544" style="stroke: #D6D6DE; stroke-width: 1.0;" width="97" x="455.5" y="111.9946"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="461.5" y="130.8926">Initialization</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="643" y1="171.5034" y2="171.5034"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="643" x2="643" y1="171.5034" y2="184.5034"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="602" x2="643" y1="184.5034" y2="184.5034"/><polygon fill="#4A4A86" points="612,180.5034,602,184.5034,612,188.5034,608,184.5034" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="608" y="166.647">Boot</text><polygon fill="#FF0000" points="105,212.2578,95,216.2578,105,220.2578,101,216.2578" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="216.2578" y2="216.2578"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="390" x="111" y="211.4014">ADSP_UNHANDLED_INTERRUPT [anytime unhandled int reported]</text><polygon fill="#FF0000" points="105,244.0122,95,248.0122,105,252.0122,101,248.0122" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="248.0122" y2="248.0122"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="384" x="111" y="243.1558">ADSP_MEMORY_HOLE_ECC [anytime memory hole int reported]</text><polygon fill="#FF0000" points="105,275.7666,95,279.7666,105,283.7666,101,279.7666" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="279.7666" y2="279.7666"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="457" x="111" y="274.9102">ADSP_USER_EXCEPTION [anytime unhandled user mode exception happens]</text><polygon fill="#FF0000" points="105,307.521,95,311.521,105,315.521,101,311.521" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="311.521" y2="311.521"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="483" x="111" y="306.6646">ADSP_KERNEL_EXCEPTION [anytime unhandled kernel mode exception happens]</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="643" y1="343.2754" y2="343.2754"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="643" x2="643" y1="343.2754" y2="356.2754"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="602" x2="643" y1="356.2754" y2="356.2754"/><polygon fill="#4A4A86" points="612,352.2754,602,356.2754,612,360.2754,608,356.2754" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="608" y="338.4189">L2Cache Initialization</text><polygon fill="#FF0000" points="105,384.0298,95,388.0298,105,392.0298,101,388.0298" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="388.0298" y2="388.0298"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="111" y="383.1733">ADSP_L2_CACHE_ERROR [Failed to init L2$]</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="643" y1="419.7842" y2="419.7842"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="643" x2="643" y1="419.7842" y2="432.7842"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="602" x2="643" y1="432.7842" y2="432.7842"/><polygon fill="#4A4A86" points="612,428.7842,602,432.7842,612,436.7842,608,432.7842" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="608" y="414.9277">Requesting IMR</text><polygon fill="#008000" points="44.5,460.5386,34.5,464.5386,44.5,468.5386,40.5,464.5386" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="464.5386" y2="464.5386"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="260" x="50.5" y="459.6821">FSR_ROM_BASEFW_CSE_IMR_REQUEST</text><polygon fill="#4A4A86" points="965,492.293,975,496.293,965,500.293,969,496.293" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="971" y1="496.293" y2="496.293"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="608" y="491.4365">&lt;&lt;IPC&gt;&gt; IPC_ADSP2CSE_REQUEST_IMR</text><polygon fill="#4A4A86" points="612,524.0474,602,528.0474,612,532.0474,608,528.0474" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="606" x2="976" y1="528.0474" y2="528.0474"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="334" x="618" y="523.1909">&lt;&lt;IPC&gt;&gt; IPC_CSE2ADSP_REQUEST_IMR_RESPONSE</text><polygon fill="#008000" points="44.5,555.8018,34.5,559.8018,44.5,563.8018,40.5,559.8018" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="559.8018" y2="559.8018"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="260" x="50.5" y="554.9453">FSR_ROM_BASEFW_CSE_IMR_GRANTED</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="643" y1="591.5562" y2="591.5562"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="643" x2="643" y1="591.5562" y2="604.5562"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="602" x2="643" y1="604.5562" y2="604.5562"/><polygon fill="#4A4A86" points="612,600.5562,602,604.5562,612,608.5562,608,604.5562" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="608" y="586.6997">Initializing Code Load DMA</text><polygon fill="#FF0000" points="105,632.3105,95,636.3105,105,640.3105,101,636.3105" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="636.3105" y2="636.3105"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="111" y="631.4541">ADSP_INVALID_PARAM [dma_id out of range]</text><polygon fill="#008000" points="44.5,664.0649,34.5,668.0649,44.5,672.0649,40.5,668.0649" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="668.0649" y2="668.0649"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="50.5" y="663.2085">FSR_ROM_INIT_DONE</text><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1002" x="3" y="697.9421"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1005" y1="697.9421" y2="697.9421"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1005" y1="700.9421" y2="700.9421"/><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="25.7544" style="stroke: #D6D6DE; stroke-width: 1.0;" width="114" x="447" y="686.0649"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="453" y="704.9629">Loading Image</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="643" y1="745.5737" y2="745.5737"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="643" x2="643" y1="745.5737" y2="758.5737"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="602" x2="643" y1="758.5737" y2="758.5737"/><polygon fill="#4A4A86" points="612,754.5737,602,758.5737,612,762.5737,608,758.5737" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="608" y="740.7173">Loading Firmware</text><polygon fill="#008000" points="44.5,786.3281,34.5,790.3281,44.5,794.3281,40.5,790.3281" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="790.3281" y2="790.3281"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="50.5" y="785.4717">FSR_ROM_VERIFY_FEATURE_MASK</text><polygon fill="#FF0000" points="105,818.0825,95,822.0825,105,826.0825,101,822.0825" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="822.0825" y2="822.0825"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="380" x="111" y="817.2261">ADSP_INVALID_FEAT_MASK [mft mask does not match SKUID]</text><polygon fill="#008000" points="44.5,849.8369,34.5,853.8369,44.5,857.8369,40.5,853.8369" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="853.8369" y2="853.8369"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="50.5" y="848.9805">FSR_ROM_GET_LOAD_OFFSET</text><polygon fill="#FF0000" points="105,881.5913,95,885.5913,105,889.5913,101,885.5913" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="885.5913" y2="885.5913"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="419" x="111" y="880.7349">ADSP_LOAD_OFFSET_TOO_SMALL [load offset less then Rsvd space]</text><polygon fill="#FF0000" points="105,913.3457,95,917.3457,105,921.3457,101,917.3457" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="917.3457" y2="917.3457"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="405" x="111" y="912.4893">ADSP_IMR_TOO_SMALL [load offset greater than assigned IMR size]</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="643" y1="949.1001" y2="949.1001"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="643" x2="643" y1="949.1001" y2="962.1001"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="602" x2="643" y1="962.1001" y2="962.1001"/><polygon fill="#4A4A86" points="612,958.1001,602,962.1001,612,966.1001,608,962.1001" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="608" y="944.2437">Loading CSE Manifest</text><polygon fill="#FF0000" points="105,989.8545,95,993.8545,105,997.8545,101,993.8545" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="993.8545" y2="993.8545"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="309" x="111" y="988.998">ADSP_IMR_TOO_SMALL [CSE manifest &gt; IMR size]</text><polygon fill="#008000" points="44.5,1021.6089,34.5,1025.6089,44.5,1029.6089,40.5,1025.6089" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="1025.6089" y2="1025.6089"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="50.5" y="1020.7524">FSR_ROM_CSE_MANIFEST_LOADED</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="643" y1="1057.3633" y2="1057.3633"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="643" x2="643" y1="1057.3633" y2="1070.3633"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="602" x2="643" y1="1070.3633" y2="1070.3633"/><polygon fill="#4A4A86" points="612,1066.3633,602,1070.3633,612,1074.3633,608,1070.3633" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="608" y="1052.5068">Loading ADSP FW Manifest</text><polygon fill="#FF0000" points="105,1098.1177,95,1102.1177,105,1106.1177,101,1102.1177" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="1102.1177" y2="1102.1177"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="343" x="111" y="1097.2612">ADSP_IMR_TOO_SMALL [ADSP FW manifest &gt; IMR size]</text><polygon fill="#008000" points="44.5,1129.8721,34.5,1133.8721,44.5,1137.8721,40.5,1133.8721" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="1133.8721" y2="1133.8721"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="50.5" y="1129.0156">FSR_ROM_FW_MANIFEST_LOADED</text><polygon fill="#FF0000" points="105,1161.6265,95,1165.6265,105,1169.6265,101,1165.6265" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="1165.6265" y2="1165.6265"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="403" x="111" y="1160.77">ADSP_BASE_FW_NOT_FOUND [module entry not found in manifest]</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="643" y1="1197.3809" y2="1197.3809"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="643" x2="643" y1="1197.3809" y2="1210.3809"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="602" x2="643" y1="1210.3809" y2="1210.3809"/><polygon fill="#4A4A86" points="612,1206.3809,602,1210.3809,612,1214.3809,608,1210.3809" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="608" y="1192.5244">Loading FW</text><polygon fill="#008000" points="44.5,1238.1353,34.5,1242.1353,44.5,1246.1353,40.5,1242.1353" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="1242.1353" y2="1242.1353"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="50.5" y="1237.2788">FSR_ROM_FW_FW_LOADED</text><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1002" x="3" y="1272.0125"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1005" y1="1272.0125" y2="1272.0125"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1005" y1="1275.0125" y2="1275.0125"/><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="25.7544" style="stroke: #D6D6DE; stroke-width: 1.0;" width="154" x="427" y="1260.1353"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136" x="433" y="1279.0332">Authenticating Image</text><polygon fill="#008000" points="44.5,1315.644,34.5,1319.644,44.5,1323.644,40.5,1319.644" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="1319.644" y2="1319.644"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="348" x="50.5" y="1314.7876">FSR_ROM_BASEFW_CSE_VALIDATE_IMAGE_REQUEST</text><polygon fill="#4A4A86" points="965,1347.3984,975,1351.3984,965,1355.3984,969,1351.3984" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="971" y1="1351.3984" y2="1351.3984"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="608" y="1346.542">&lt;&lt;IPC&gt;&gt; IPC_CSE2ADSP_START_FW_AUTH</text><polygon fill="#4A4A86" points="612,1379.1528,602,1383.1528,612,1387.1528,608,1383.1528" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="606" x2="976" y1="1383.1528" y2="1383.1528"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="352" x="618" y="1378.2964">&lt;&lt;IPC&gt;&gt; IPC_CSE2ADSP_START_FW_AUTH_RESPONSE</text><polygon fill="#FF0000" points="105,1410.9072,95,1414.9072,105,1418.9072,101,1414.9072" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="1414.9072" y2="1414.9072"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="347" x="111" y="1410.0508">ADSP_CSE_VALIDATION_FAILED [invalid image signature]</text><polygon fill="#008000" points="44.5,1442.6616,34.5,1446.6616,44.5,1450.6616,40.5,1446.6616" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="1446.6616" y2="1446.6616"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="50.5" y="1441.8052">FSR_ROM_BASEFW_CSE_IMAGE_VALIDATED</text><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1002" x="3" y="1476.5388"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1005" y1="1476.5388" y2="1476.5388"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1005" y1="1479.5388" y2="1479.5388"/><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="25.7544" style="stroke: #D6D6DE; stroke-width: 1.0;" width="92" x="458" y="1464.6616"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="464" y="1483.5596">Booting FW</text><polygon fill="#008000" points="44.5,1520.1704,34.5,1524.1704,44.5,1528.1704,40.5,1524.1704" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="1524.1704" y2="1524.1704"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="50.5" y="1519.314">FSR_ROM_FW_ENTERED</text><!--MD5=[68c2b318d852cd543122fe487f8e402a]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}
participant "State" as st
participant "Error" as err
participant "Host\nDriver" as host
participant "APL\nROM" as rom
participant "CSE" as cse

host -> rom : <<IPC>> RomControl (purge=1, dma_id)

== Initialization ==
rom -> rom : Boot
	err <[#red]- rom : ADSP_UNHANDLED_INTERRUPT [anytime unhandled int reported]
	err <[#red]- rom : ADSP_MEMORY_HOLE_ECC [anytime memory hole int reported]
	err <[#red]- rom : ADSP_USER_EXCEPTION [anytime unhandled user mode exception happens]
	err <[#red]- rom : ADSP_KERNEL_EXCEPTION [anytime unhandled kernel mode exception happens]

rom -> rom : L2Cache Initialization
	err <[#red]- rom : ADSP_L2_CACHE_ERROR [Failed to init L2$]

rom -> rom : Requesting IMR
	st <[#green]- rom : FSR_ROM_BASEFW_CSE_IMR_REQUEST
	rom -> cse : <<IPC>> IPC_ADSP2CSE_REQUEST_IMR
	rom <- cse : <<IPC>> IPC_CSE2ADSP_REQUEST_IMR_RESPONSE
	st <[#green]- rom : FSR_ROM_BASEFW_CSE_IMR_GRANTED

rom -> rom : Initializing Code Load DMA
	err <[#red]- rom : ADSP_INVALID_PARAM [dma_id out of range]

st <[#green]- rom : FSR_ROM_INIT_DONE

== Loading Image ==
	rom -> rom : Loading Firmware
	st <[#green]- rom : FSR_ROM_VERIFY_FEATURE_MASK
	err <[#red]- rom : ADSP_INVALID_FEAT_MASK [mft mask does not match SKUID]
	st <[#green]- rom : FSR_ROM_GET_LOAD_OFFSET
	err <[#red]- rom : ADSP_LOAD_OFFSET_TOO_SMALL [load offset less then Rsvd space]
	err <[#red]- rom : ADSP_IMR_TOO_SMALL [load offset greater than assigned IMR size]
	rom -> rom : Loading CSE Manifest
	err <[#red]- rom : ADSP_IMR_TOO_SMALL [CSE manifest > IMR size]
	st <[#green]- rom : FSR_ROM_CSE_MANIFEST_LOADED
	rom -> rom : Loading ADSP FW Manifest
	err <[#red]- rom : ADSP_IMR_TOO_SMALL [ADSP FW manifest > IMR size]
	st <[#green]- rom : FSR_ROM_FW_MANIFEST_LOADED
	err <[#red]- rom : ADSP_BASE_FW_NOT_FOUND [module entry not found in manifest]
	rom -> rom : Loading FW
	st <[#green]- rom : FSR_ROM_FW_FW_LOADED

== Authenticating Image ==
	st <[#green]- rom : FSR_ROM_BASEFW_CSE_VALIDATE_IMAGE_REQUEST
	rom -> cse : <<IPC>> IPC_CSE2ADSP_START_FW_AUTH
	rom <- cse : <<IPC>> IPC_CSE2ADSP_START_FW_AUTH_RESPONSE
	err <[#red]- rom : ADSP_CSE_VALIDATION_FAILED [invalid image signature]
	st <[#green]- rom : FSR_ROM_BASEFW_CSE_IMAGE_VALIDATED
== Booting FW ==
	st <[#green]- rom : FSR_ROM_FW_ENTERED

@enduml

PlantUML version 1.2019.12(Sun Nov 03 18:24:54 CST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_321-b07
Operating System: Windows 10
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>