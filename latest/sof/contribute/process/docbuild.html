

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>SOF Documentation Generation &mdash; SOF Project 0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/zc.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/zc.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/common.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/sof.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
  <script type="text/javascript" src="../../_static/js/zcaniot.js"></script>

    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="SOF ABI Change Process" href="abiprocess.html" />
    <link rel="prev" title="Bug Tracking" href="bug-tracking.html" />
  <link rel="shortcut icon" href="../../_static/images/favicon.ico"/>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> SOF Project
          

          
            
            <img src="../../_static/logo_sof_white_200w.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference external" href="https://sofproject.org">SOF project website</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction to the SOF Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../architectures/index.html">Supported Architectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../algos/index.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guides/index.html">Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release.html">Release</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Contributing to the Project</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../contribute_guidelines.html">Contribution Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../doc_guidelines.html">Documentation Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dox-source-code.html">Documenting the Source Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="bug-tracking.html">Bug Tracking</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">SOF Documentation Generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#documentation-overview">Documentation overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-up-documentation-working-folders">Set up documentation working folders</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-documentation-tools">Install documentation tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="#documentation-presentation-theme">Documentation presentation theme</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-documentation-processors">Run documentation processors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#publish-content">Publish content</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installation-troubleshooting">Installation troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#windows-troubleshooting">Windows troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#diagram-compilation-troubleshooting">Diagram compilation troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="abiprocess.html">SOF ABI Change Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/development_tree.html">Linux SOF drivers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tsc/index.html">Technical Steering Committee (TSC)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainers/index.html">SOF admin, maintainers and code owners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../presentations/index.html">Presentations</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SOF Project</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Contributing to the Project</a> &raquo;</li>
        
      <li>SOF Documentation Generation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/contribute/process/docbuild.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sof-documentation-generation">
<span id="sof-doc"></span><h1>SOF Documentation Generation<a class="headerlink" href="#sof-documentation-generation" title="Permalink to this headline">¶</a></h1>
<p>These instructions will walk you through generating the SOF Project’s
documentation and publishing it to <a class="reference external" href="https://thesofproject.github.io">https://thesofproject.github.io</a>.
You can also use these instructions to generate the SOF documentation
on your local system.</p>
<div class="section" id="documentation-overview">
<h2>Documentation overview<a class="headerlink" href="#documentation-overview" title="Permalink to this headline">¶</a></h2>
<p>The SOF Project content is written using the reStructuredText markup
language (<code class="docutils literal notranslate"><span class="pre">.rst</span></code> file extension) with Sphinx extensions, and processed
using Sphinx to create a formatted standalone website. As a developer, you
can view this content either in its raw form as <code class="docutils literal notranslate"><span class="pre">.rst</span></code> markup files, or you
can generate the HTML content and view it with a web browser directly on
your workstation.</p>
<p>Read details about <a class="reference external" href="http://sphinx-doc.org/rest.html">reStructuredText</a>, and <a class="reference external" href="http://sphinx-doc.org/">Sphinx</a> from
their respective websites.</p>
<p>The project’s documentation contains reStructuredText source files used to
generate documentation found at the <a class="reference external" href="http://thesofproject.github.io">http://thesofproject.github.io</a> website.
All of the reStructuredText sources are found in the thesofproject/sof-docs
<a class="reference external" href="https://github.com/thesofproject/sof-docs">repo</a>.</p>
<p>The reStructuredText files are processed by the Sphinx documentation system,
and make use of the breathe extension for including the doxygen-generated API
material.</p>
</div>
<div class="section" id="set-up-documentation-working-folders">
<h2>Set up documentation working folders<a class="headerlink" href="#set-up-documentation-working-folders" title="Permalink to this headline">¶</a></h2>
<p>You must install git to set up the working folders:</p>
<ul>
<li><p>For an Ubuntu development system use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install git
</pre></div>
</div>
</li>
<li><p>For a Fedora development system use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo dnf install git
</pre></div>
</div>
</li>
<li><p>For a Windows development system, download and install Git manually from
the <a class="reference external" href="https://git-scm.com/download/win">https://git-scm.com/download/win</a> website.</p></li>
</ul>
<p>We use github.io for publishing the generated documentation. The recommended
folder setup for documentation contributions and generation is as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">thesofproject/</span>
<span class="go">   sof/</span>
<span class="go">   sof-docs/</span>
</pre></div>
</div>
<p>The parent <code class="docutils literal notranslate"><span class="pre">thesofproject</span></code> folder is present because we use the
publishing area (<code class="docutils literal notranslate"><span class="pre">thesofproject.github.io</span></code>) later in these steps. It’s
best if the <code class="docutils literal notranslate"><span class="pre">sof-docs</span></code> folder is an ssh clone of your personal fork of the
upstream project repos (although https clones also work):</p>
<ol class="arabic">
<li><p>Use your browser to visit <a class="reference external" href="https://github.com/thesofproject">https://github.com/thesofproject</a> and do a
fork of the <code class="docutils literal notranslate"><span class="pre">sof-docs</span></code> repo to your personal GitHub account.)</p>
<img alt="../../_images/fork-sof-docs.png" src="../../_images/fork-sof-docs.png" />
</li>
<li><p>At a command prompt, create the working folder and clone the sof-docs
repository to your local computer (and if you have publishing rights, the
thesofproject.github.io repo). If you don’t have publishing rights,
can still generate the docs locally but not publish them:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~
mkdir thesofproject <span class="o">&amp;&amp;</span> <span class="nb">cd</span> thesofproject
git clone git@github.com:&lt;github-username&gt;/thesofproject/sof-docs
</pre></div>
</div>
</li>
<li><p>The documentation of the SOF source code generated by doxygen is referenced and included by the <code class="docutils literal notranslate"><span class="pre">sof-docs</span></code>. Clone the <code class="docutils literal notranslate"><span class="pre">sof</span></code> repository, too:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone git@github.com:thesofproject/sof
</pre></div>
</div>
</li>
<li><p>For the cloned local repos, tell git about the upstream repo:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> sof-docs
git remote add upstream git@github.com:thesofproject/sof-docs
</pre></div>
</div>
</li>
<li><p>If you haven’t done so already, be sure to configure git with your name
and email address for the signed-off-by line in your commit messages:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git config --global user.name <span class="s2">&quot;David Developer&quot;</span>
git config --global user.email <span class="s2">&quot;david.developer@company.com&quot;</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="install-documentation-tools">
<h2>Install documentation tools<a class="headerlink" href="#install-documentation-tools" title="Permalink to this headline">¶</a></h2>
<p>Our documentation processing has been tested to run with:</p>
<ul class="simple">
<li><p>Python 3.6.3</p></li>
<li><p>Doxygen version 1.8.13</p></li>
<li><p>Sphinx version 1.7.5</p></li>
<li><p>Breathe version 4.9.1</p></li>
<li><p>docutils version 0.14</p></li>
<li><p>sphinx_rtd_theme version 0.4.0</p></li>
</ul>
<p>The SOF documentation makes use of additional Sphinx extensions used for
creating drawings:</p>
<ul class="simple">
<li><p>sphinxcontrib-plantuml</p></li>
<li><p>sphinx.ext.graphviz  (included with Sphinx)</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">scripts/plantuml.jar</span></code> extension uses Java to render the UML
drawing syntax into an image. You need to have a Java runtime environment
(JRE) installed when generating documentation.</p>
</div>
<p>Depending on your Linux version, install the following tools:</p>
<ul>
<li><p>For Ubuntu use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install doxygen python3-pip python3-wheel make <span class="se">\</span>
   default-jre graphviz
</pre></div>
</div>
</li>
<li><p>For Fedora use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo dnf install doxygen python3-pip python3-wheel make <span class="se">\</span>
   java graphviz
</pre></div>
</div>
</li>
</ul>
<p>For either Linux environment, install the remaining python-based
tools:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/thesofproject/sof-docs
pip3 install --user -r scripts/requirements.txt
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference external" href="https://github.com/thesofproject/sof-docs/tree/master/scripts/requirements.txt">scripts/requirements.txt</a> file hardcodes
versions using <code class="docutils literal notranslate"><span class="pre">==</span></code>, which may not be compatible with your other
projects. In that case you can either setup a Python <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> or
try the unsupported <a class="reference external" href="https://github.com/thesofproject/sof-docs/tree/master/scripts/requirements-lax.txt">scripts/requirements-lax.txt</a>
(more details inside this file):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">PIP_IGNORE_INSTALLED</span><span class="o">=</span><span class="m">0</span> pip3 install --user -r scripts/requirements-lax.txt
</pre></div>
</div>
</div>
<p>For Windows, install the needed tools manually:</p>
<ul>
<li><p>Python (3.7+) from <a class="reference external" href="https://www.python.org/downloads/">https://www.python.org/downloads/</a></p></li>
<li><p>Python package installer (pip) from <a class="reference external" href="https://pip.pypa.io/en/stable/installing/">https://pip.pypa.io/en/stable/installing/</a></p></li>
<li><p>Doxygen from <a class="reference external" href="http://www.doxygen.nl/download.html">http://www.doxygen.nl/download.html</a></p></li>
<li><p>GraphViz from <a class="reference external" href="https://graphviz.gitlab.io/">https://graphviz.gitlab.io/</a></p></li>
<li><p>Ninja from <a class="reference external" href="https://github.com/ninja-build/ninja/releases">https://github.com/ninja-build/ninja/releases</a></p></li>
<li><p>CMake (3.10+) from <a class="reference external" href="https://cmake.org/install/">https://cmake.org/install/</a></p></li>
<li><p>Make - if you do not already have make, install it using MSYS2 from <a class="reference external" href="https://www.msys2.org/">https://www.msys2.org/</a>. Use the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pacman -S make
</pre></div>
</div>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure that installed executable files are in your path. If not,
manually add the paths to the PATH variable.</p>
</div>
<p>For Windows, install the remaining python-based tools as previously
described for Linux:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> &lt;path to the directory&gt;<span class="se">\t</span>hesofproject<span class="se">\s</span>of-docs
pip3 install --user -r scripts<span class="se">\r</span>equirements.txt
</pre></div>
</div>
<p>You are ready to generate the documentation.</p>
</div>
<div class="section" id="documentation-presentation-theme">
<h2>Documentation presentation theme<a class="headerlink" href="#documentation-presentation-theme" title="Permalink to this headline">¶</a></h2>
<p>Sphinx supports easy customization of the generated documentation
appearance through the use of themes. Replace the theme files and do
another <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">html</span></code> and the output layout and style is changed.
The <code class="docutils literal notranslate"><span class="pre">read-the-docs</span></code> theme is installed as part of the
<code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> list above.</p>
</div>
<div class="section" id="run-documentation-processors">
<h2>Run documentation processors<a class="headerlink" href="#run-documentation-processors" title="Permalink to this headline">¶</a></h2>
<p>The sof-docs directory contains all the .rst source files, extra tools, and
Makefile for generating a local copy of the SOF technical documentation.</p>
<ul>
<li><p>Generate the HTML output by using the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> thesofproject
<span class="c1"># API documentation (Doxygen)</span>
cmake -S sof/doc -B sof/doc -GNinja
ninja -C sof/doc -v doc
<span class="c1"># UML and reStructuredText</span>
make  -C sof-docs <span class="nv">VERBOSE</span><span class="o">=</span><span class="m">1</span> html
</pre></div>
</div>
</li>
</ul>
<p>Depending on your system, the last command may need a few minutes to run -
but only the first time. Most of the time is spent generating UML
diagrams. When done, view the HTML output with your browser, starting at
<code class="docutils literal notranslate"><span class="pre">~/thesofproject/sof-docs/_build/html/index.html</span></code></p>
<p>If your changes are not related to any UML diagram, you can build more
than 10 times faster from scratch by temporarily changing the
<code class="docutils literal notranslate"><span class="pre">plantuml_output_format</span></code> line in <a class="reference external" href="https://github.com/thesofproject/sof-docs/tree/master/conf.py">conf.py</a>.</p>
</div>
<div class="section" id="publish-content">
<h2>Publish content<a class="headerlink" href="#publish-content" title="Permalink to this headline">¶</a></h2>
<p>If you have merge rights to the <code class="docutils literal notranslate"><span class="pre">thesofproject</span> <span class="pre">repo</span></code> called
<code class="docutils literal notranslate"><span class="pre">thesofproject.github.io</span></code>, you can update the public project documentation
found at <a class="reference external" href="https://thesofproject.github.io">https://thesofproject.github.io</a>.</p>
<p>You must perform a one-time clone of the upstream repo (we publish
directly to the upstream repo rather than to a personal forked copy):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/thesofproject
git clone git@github.com:thesofproject/thesofproject.github.io
</pre></div>
</div>
<p>After you have verified that the generated HTML from <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">html</span></code> looks
good, you can push directly to the publishing site using this command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make publish
</pre></div>
</div>
<p>This will delete everything in the publishing repo’s <strong>latest</strong> folder (in
case the new version has deleted files) and push a copy of the
newly-generated HTML content directly to the GitHub pages publishing repo.
The public site at <a class="reference external" href="https://thesofproject.github.io">https://thesofproject.github.io</a> will be updated within a
few minutes so it’s best to verify the locally-generated html before
publishing.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In some situations it is necessary to clean all the files and build from
the very beginning. To do this, use the <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code> command.</p>
</div>
</div>
<div class="section" id="installation-troubleshooting">
<h2>Installation troubleshooting<a class="headerlink" href="#installation-troubleshooting" title="Permalink to this headline">¶</a></h2>
<p>In some cases, after you run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">html</span></code>, the documentation processors might return the following errors:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Warning: sphinx_rtd_theme missing. Use pip to install it.</span>
<span class="go">Extension error:</span>
<span class="go">Could not import extension breathe (exception: No module named breathe)</span>
<span class="go">Makefile:36: recipe for target &#39;html&#39; failed</span>
<span class="go">make: *** [html] Error 1</span>
</pre></div>
</div>
<p>The issue could be related to the default policy on Debian-based Linux
distributions (i.e. Ubuntu) that links Python commands to Python 2.7.x. You
can verify this by entering the following steps:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python --version

Python <span class="m">2</span>.7.15rc1

ll /usr/bin/python

lrwxrwxrwx <span class="m">1</span> root root <span class="m">9</span> sie <span class="m">29</span> <span class="m">07</span>:36 /usr/bin/python -&gt; python2.7*
</pre></div>
</div>
<p>The issue can be resolved by running a dedicated environment with the Python
3.x binary and include its own set of installed Python packages.
Virtualization of the Python environment is recommended as an alternative to:</p>
<ul class="simple">
<li><p>adding an alias setup in ~/.bashrc</p></li>
<li><p>changing the symbolic link (/usr/bin/python)</p></li>
<li><p>modifying the default system behavior using update-alternatives</p></li>
</ul>
<p>Start with installing virtualization support. As a next step, activate the
virtualized environment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apt-get install python3-venv
python3 -m venv my-sof-env
. ./my-sof-env/bin/activate
python --version


Python <span class="m">3</span>.6.7
</pre></div>
</div>
<p>Verify the Python version and proceed with installing all required
Python packages in the virtualized environment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install sphinx
git clone https://github.com/thesofproject/sof
git clone https://github.com/thesofproject/sof-docs
<span class="nb">cd</span> sof-docs/
pip install -r scripts/requirements.txt
</pre></div>
</div>
<p>After the installation is finished, you should be able to generate
documentation by invoking commands listed in <strong>Running the documentation
processors</strong>.</p>
<p>To deactivate the virtual environment and original Python environment, type:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>deactivate
</pre></div>
</div>
<p>Further information on how to use lightweight Python virtualization
environments can be found at <a class="reference external" href="https://docs.python.org/3/library/venv.html">https://docs.python.org/3/library/venv.html</a>.</p>
</div>
<div class="section" id="windows-troubleshooting">
<h2>Windows troubleshooting<a class="headerlink" href="#windows-troubleshooting" title="Permalink to this headline">¶</a></h2>
<p>It is possible that the <code class="docutils literal notranslate"><span class="pre">cmake</span></code> command may not be accessible from the MSYS2 shell:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cmake -GNinja .</span>
<span class="go">bash: cmake: command not found</span>
</pre></div>
</div>
<p>The problem may be due to the MSYS2 PATH missing the cmake installation
folder. If the cmake works correctly from the Win Command Prompt then edit
the msys2_shell.cmd and check if a PATH inherit option is enabled:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="nv">MSYS2_PATH_TYPE</span><span class="o">=</span>inherit
</pre></div>
</div>
<p>Another issue that may occur is the <code class="docutils literal notranslate"><span class="pre">sphinx-build</span></code> command not found:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make html
make: sphinx-build: Command not found
make: *** <span class="o">[</span>Makefile:36: html<span class="o">]</span> Error <span class="m">127</span>
</pre></div>
</div>
<p>If the above error occurs both in the Win Command Prompt and in the MSYS2
shell then the python sphinx package needs to be updated:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -U sphinx
</pre></div>
</div>
</div>
<div class="section" id="diagram-compilation-troubleshooting">
<h2>Diagram compilation troubleshooting<a class="headerlink" href="#diagram-compilation-troubleshooting" title="Permalink to this headline">¶</a></h2>
<p>If you are creating a diagram that is using the lastest features of
plantuml, you may encounter the following compilation error:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">WARNING: error while running plantuml</span>
<span class="go">b&#39;ERROR\n2\nSyntax Error?\nSome diagram description contains errors\n&#39;</span>
</pre></div>
</div>
<p>If you excluded syntax errors in the diagram description, one of remaining
possibilities is lack of compatibility with the installed plantuml.jar
version. You can verify it using the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>java -jar ./scripts/plantuml.jar -version
</pre></div>
</div>
<p>If the installed version of plantuml.jar is missing necessary features,
submit a pull request to the SOF documentation repository with a new one.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="abiprocess.html" class="btn btn-neutral float-right" title="SOF ABI Change Process" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="bug-tracking.html" class="btn btn-neutral" title="Bug Tracking" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2021, SOF Project..
      Last updated on May 10, 2022.

    </p>
</td>
<td id="zcanlogo">
  <a href="https://www.unisim-micro.com/"><img src="../../_static/images/zcan.svg" border="0" style="position:static"/></a>
</td>
</tr>
</table>
  </div> 


</footer>
        </div>
      </div>

    </section>

  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> SOF Project</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version zcansdk">
        <a href="../../../zcansdk/index.html">ZCAN IOT SDK</a>
      </div>
      
      <div class="rst-other-version zcanxlib">
        <a href="../../../zcanxlib/README.html">ZCAN Xlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>