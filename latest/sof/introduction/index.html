

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Introduction to the SOF Project &mdash; SOF Project 0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/zc.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/zc.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/common.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/sof.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  

  
  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
  <script type="text/javascript" src="../_static/js/zcaniot.js"></script>

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Getting Started Guides" href="../getting_started/index.html" />
    <link rel="prev" title="SOF Project documentation" href="../index.html" />
  <link rel="shortcut icon" href="../_static/images/favicon.ico"/>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> SOF Project
          

          
            
            <img src="../_static/logo_sof_white_200w.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference external" href="https://sofproject.org">SOF project website</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction to the SOF Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#sdk-introduction-and-overview">SDK Introduction and Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sof-source-code-tools-and-topologies">SOF source code, tools, and topologies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#host-os-drivers">Host OS Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#firmware-toolchain">Firmware Toolchain</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dsp-emulator">DSP Emulator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#general-faq">General FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="#toolchain-faq">Toolchain FAQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architectures/index.html">Supported Architectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../platforms/index.html">Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../algos/index.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guides/index.html">Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contributing to the Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tsc/index.html">Technical Steering Committee (TSC)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainers/index.html">SOF admin, maintainers and code owners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentations/index.html">Presentations</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SOF Project</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Introduction to the SOF Project</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/introduction/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction-to-the-sof-project">
<span id="introduction"></span><h1>Introduction to the SOF Project<a class="headerlink" href="#introduction-to-the-sof-project" title="Permalink to this headline">¶</a></h1>
<p>Sound Open Firmware (SOF) is an open source audio Digital Signal Processing (DSP) firmware
infrastructure and SDK. SOF provides infrastructure, real-time control
pieces, and audio drivers as a community project. The project is governed by
the Sound Open Firmware Technical Steering Committee (TSC) that includes prominent and active developers from the
community. SOF is developed in public and hosted on the github platform.</p>
<p>The firmware and SDK are intended for developers who are interested in
audio or signal processing on modern DSPs. SOF provides a framework where
audio developers can create, test, and tune the following:</p>
<ul class="simple">
<li><p>Audio processing pipelines and topologies.</p></li>
<li><p>Audio processing components.</p></li>
<li><p>DSP infrastructure and drivers.</p></li>
<li><p>Host OS infrastructure and drivers.</p></li>
</ul>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../_images/pipeline-overview.png"><img alt="SDK Overview" src="../_images/pipeline-overview.png" style="width: 1000px; height: 300px;" /></a>
<p class="caption"><span class="caption-number">Figure 1 </span><span class="caption-text"><cite>Example Equalizer pipeline with host OS control of EQ coefficients and pipeline volume.</cite></span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>Sound Open Firmware has a modular and generic codebase and can be ported to different DSP
architectures or host platforms. See the list of currently supported DSP
architecures and supported platforms.</p>
<div class="section" id="sdk-introduction-and-overview">
<h2>SDK Introduction and Overview<a class="headerlink" href="#sdk-introduction-and-overview" title="Permalink to this headline">¶</a></h2>
<p>The Sound Open Firmware SDK is comprised of many ingredients that can be customized for
use in the firmware/software development lifecycle. Customization allows for
a “best fit” development approach where the SDK can be optimized for a
particular process or environment. Some SDK ingredients are optional while
there can be more than once choice for other ingredients as shown in the diagram below.</p>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="../_images/sdk-overview.png"><img alt="SDK Overview" src="../_images/sdk-overview.png" style="width: 1000px;" /></a>
<p class="caption"><span class="caption-number">Figure 2 </span><span class="caption-text"><cite>SDK example configuration showing development flow for SOF on the Intel Apollolake platform running Linux OS. Note the choice of compiler toolchains and choice of optional DSP emulators.</cite></span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="sof-source-code-tools-and-topologies">
<h3>SOF source code, tools, and topologies<a class="headerlink" href="#sof-source-code-tools-and-topologies" title="Permalink to this headline">¶</a></h3>
<p>All firmware, tools, and topologies exists in the main SOF git repository.
On a high level, the repo contains:</p>
<ul class="simple">
<li><p>Firmware - written in C with some architecture-specific assembler; it does not link to external dependencies.</p></li>
<li><p>Test Bench - allows firmware components and pipelines to run on developers’ host PCs.</p></li>
<li><p>Image Tools - C tools for converting ELF files to binary firmware images that can run on HW.</p></li>
<li><p>Debug Tools - scripts and tools that can be used to debug firmware.</p></li>
<li><p>Trace Tools - text-based tools that can display tracing data from firmware.</p></li>
<li><p>Tuning Tools - MATLAB/Octave scripts that can be used to create tuning coefficients for audio components.</p></li>
<li><p>Runtime Tools - command line applications that can be used to exchange data with running firmware.</p></li>
<li><p>Topologies - real and example topologies that show construction of simple and complex audio processing pipelines.</p></li>
</ul>
</div>
<div class="section" id="host-os-drivers">
<h3>Host OS Drivers<a class="headerlink" href="#host-os-drivers" title="Permalink to this headline">¶</a></h3>
<p>SOF can be configured and controlled by a host OS driver or it can
optionally run as standalone firmware. SOF host drivers currently support
Linux OS.</p>
<p>The SOF driver has a modular stack-based architecture that is dual-licensed
BSD &amp; GPL code, allowing it to be ported to other OSes and RTOSes.</p>
<p>The host driver is responsible for:</p>
<ul class="simple">
<li><p>Loading firmware from the host file system into DSP memories and booting.</p></li>
<li><p>Loading topologies from the host file system into DSP.</p></li>
<li><p>Exposing audio control devices to applications.</p></li>
<li><p>Exposing audio data endpoints to applications.</p></li>
<li><p>Managing IPC communication between the host and DSP.</p></li>
<li><p>Abstraction of the host-side DSP hardware to common API operations.</p></li>
</ul>
<p>The Linux SOF ALSA/ASoC driver is upstream in Linux v5.2 onwards.</p>
</div>
<div class="section" id="firmware-toolchain">
<h3>Firmware Toolchain<a class="headerlink" href="#firmware-toolchain" title="Permalink to this headline">¶</a></h3>
<p>GNU GCC can be used as a free SOF compiler alongside proprietary DSP vendor
compilers. The choice of compiler is up to the user, depending on features
and budget. GCC complier is open source.</p>
</div>
<div class="section" id="dsp-emulator">
<h3>DSP Emulator<a class="headerlink" href="#dsp-emulator" title="Permalink to this headline">¶</a></h3>
<p>Qemu can be used to provide a functional emulator to simultaneously trace and
debug driver and DSP firmware code. Proprietary emulators are also available.</p>
<p>Emulation is also used within SOF CI for feature validation prior to merging
new code.</p>
</div>
</div>
<div class="section" id="general-faq">
<h2>General FAQ<a class="headerlink" href="#general-faq" title="Permalink to this headline">¶</a></h2>
<dl>
<dt>What license does the firmware use?</dt><dd><p>The firmware is released using a standard BSD 3-clause license with some
files released under MIT.</p>
</dd>
<dt>Do I need to open source my firmware code changes?</dt><dd><p>No. The firmware BSD and MIT licensed code means you can keep code
changes private. Patches are always welcomed if you do decide to open
source work.</p>
</dd>
<dt>What license does the host driver use?</dt><dd><p>Most of the host driver code is dual-licensed BSD or GLPLv2 only
(user’s choice). The part of the driver that is GPLv2 only is the Linux
integration layer at the top of the driver stack.</p>
</dd>
<dt>Do I need to open source my driver code changes?</dt><dd><p>No, for the bottom two layers of the driver stack. For example, if you are
porting the driver to another OS, these changes can be kept private. Note
that all driver GPL source files are Linux-specific and should not be
ported to another OS.</p>
</dd>
<dt>How can I get involved?</dt><dd><p>The best way to get involved is via github. You can also join our
low-volume <a class="reference external" href="http://alsa-project.org/mailman/listinfo/sound-open-firmware">mailing list</a>.</p>
</dd>
<dt>What is the development model?</dt><dd><p>Sound Open Firmware is entirely developed on github. Patches via Pull Requests are
reviewed, discussed, and tested by CI before being merged. The intended
release cadence is every 6 - 8 weeks. A stable release is tagged after
passing QA; development continues for the next release.</p>
</dd>
<dt>Who works on Sound Open Firmware?</dt><dd><p>Professional developers from a number of companies (check the git
logs if you want to know) with some hobbyist developers, too.</p>
</dd>
<dt>How do I add support for host architecture X?</dt><dd><p>See the SOF architecture pages.</p>
</dd>
<dt>How do I add support for host platform X?</dt><dd><p>Adding a new host platform is a lot simpler than adding a new DSP
architecture. A new host platform consists of adding a new src/platform/
directory, together with mappings for memory, IRQs, GPIOs, and peripheral
devices in the DSP memory space. New drivers may also have to be added
(e.g. for DMA, I2S) to the drivers directory.</p>
</dd>
<dt>How do I port to other OSes?</dt><dd><p>See the SOF host architecture page.</p>
</dd>
<dt>What audio components are supported?</dt><dd><p>Sound Open Firmware now supports a small library of free and open source components that
are distrubuted alongside the source code. SOF can also support proprietary
audio processing components provided they are wrapped to use the SOF
component API. See the audio components page for a list of open
source components and their capabilites.</p>
</dd>
<dt>How do I create my own pipelines?</dt><dd><p>Pipelines are currently defined using the M4 macro processing language.
The M4 topology is then preprocessed to the alsaconf format before being
compiled into a binary. An Eclipse-based GUI for pipeline construction is
currently under development.</p>
<p>Today, both static (built in) and dynamic (loaded at runtime) pipelines are
supported in upstream.</p>
</dd>
<dt>Can I add my own media encoder/decoders?</dt><dd><p>Yes.</p>
</dd>
<dt>Can I add non-audio functions?</dt><dd><p>Yes. The instruction sets used by DSPs are also good at non-audio
processing tasks such as low-power sensor signal processing. If
your DSP has physical IO ports to which other non-audio devices can be connected, then data can also be processed from these devices.</p>
</dd>
</dl>
</div>
<div class="section" id="toolchain-faq">
<h2>Toolchain FAQ<a class="headerlink" href="#toolchain-faq" title="Permalink to this headline">¶</a></h2>
<dl>
<dt>Which Xtensa toolchains does SOF currently support?</dt><dd><p>Two toolchain families are currently supported by SOF: The GCC and the Cadence XCC.</p>
<p>These families are subdivided into toolchains per Xtensa ISA because the Tensilica architecture contains a variable instruction set so you must use the toolchain variant that matches your platform.</p>
<ol class="arabic">
<li><p>Custom, open-source GCC toolchains built with crosstool-NG as
documented in the getting started guide. These must be built from
source. For instructions, refer to the following:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../getting_started/build-guide/build-from-scratch.html#build-toolchains-from-source"><span class="std std-ref">Step 2 Build toolchains from source</span></a> in the Getting Started Guide
for building SOF from scratch</p></li>
<li><p><a class="reference external" href="http://wiki.linux-xtensa.org/index.php/Toolchain_and_Embedded_Distributions">Toolchains and embedded distributions</a></p></li>
</ul>
</li>
<li><p>Cadence’s partially closed source toolchains. The Cadence XCC compiler
is proprietary but uses the open source GNU binutils. XCC must be
bought from Cadence. For more information, see:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../getting_started/build-guide/build-3rd-party-toolchain.html#build-3rd-party-toolchain"><span class="std std-ref">Build SOF with a 3rd Party Toolchain</span></a></p></li>
<li><p><a class="reference external" href="https://ip.cadence.com/ipportfolio/tensilica-ip">Cadence IP portfolio</a></p></li>
</ul>
<p>The Cadence binutils patches or overlays are located in the SOF git
repo.</p>
<p>Note that Cadence is not the only Tensilica user; some Xtensa
toolchains come from <a class="reference external" href="https://docs.zephyrproject.org/latest/boards/xtensa/index.html">elsewhere</a>. However, as of June 2020, all platforms
supported by SOF come from Cadence.</p>
</li>
</ol>
</dd>
<dt>What are the primary differences between Cadence and gcc toolchains?</dt><dd><p>gcc toolchains are completely open source. Cadence’s toolchains use either
a gcc-based or a clang-based open source frontend and a closed-source
backend that matches the platform.</p>
<p>XCC supports full Xtensa HiFi SIMD intrinsics whereas GCC has no HiFi SIMD
support. This can lead to large performance differences, especially in
code that deals with audio processing.</p>
</dd>
<dt>Cadence xt-xcc or Cadence xt-clang?</dt><dd><p>It depends on the platform. As of June 2020, most platforms supported by
SOF rely on xt-xcc. Going forward, all newer platforms require xt-clang.
The gcc frontend doesn’t support unusually large registers, hence the move
to xt-clang.</p>
<p>Note that xt-xcc does not fully support C99. xt-clang does.</p>
</dd>
<dt>Is support for other toolchains forthcoming?</dt><dd><p>Going forward, we would like to support the LLVM C compiler. Patches are
welcome.</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../getting_started/index.html" class="btn btn-neutral float-right" title="Getting Started Guides" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral" title="SOF Project documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2021, SOF Project..
      Last updated on May 10, 2022.

    </p>
</td>
<td id="zcanlogo">
  <a href="https://www.unisim-micro.com/"><img src="../_static/images/zcan.svg" border="0" style="position:static"/></a>
</td>
</tr>
</table>
  </div> 


</footer>
        </div>
      </div>

    </section>

  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> SOF Project</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version zcansdk">
        <a href="../../zcansdk/index.html">ZCAN IOT SDK</a>
      </div>
      
      <div class="rst-other-version zcanxlib">
        <a href="../../zcanxlib/README.html">ZCAN Xlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>