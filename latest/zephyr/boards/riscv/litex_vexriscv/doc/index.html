

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>LiteX VexRiscv &mdash; Zephyr Project Documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/zc.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/zc.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/common.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/zephyr.css" type="text/css" />

  
  

  
  

  

  
  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-210766333-2"></script>
        <script src="../../../../_static/js/ga-tracker.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
  <script type="text/javascript" src="../../../../_static/js/zcaniot.js"></script>

    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="copyright" title="Copyright" href="../../../../copyright.html" />
    <link rel="next" title="Sipeed Longan Nano" href="../../longan_nano/doc/index.html" />
    <link rel="prev" title="ITE IT8XXX2 series" href="../../it8xxx2_evb/doc/index.html" />
  <link rel="shortcut icon" href="../../../../_static/images/favicon.ico"/>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> Zephyr Project
          

          
          </a>

          
            
            
              <div class="version">
                3.0.99
              </div>
            
          

          
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../getting_started/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contribute/index.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../development_process/index.html">Development and Contribution Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../guides/build/index.html">Build and Configuration Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../application/index.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../guides/index.html">User and Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../samples/index.html">Samples and Demos</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Supported Boards</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../x86/index.html">x86 Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../arm/index.html">ARM Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../arm64/index.html">ARM64 Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../arc/index.html">ARC Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../mips/index.html">MIPS Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../nios2/index.html">NIOS II Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../xtensa/index.html">XTENSA Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../posix/index.html">POSIX/NATIVE Boards</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">RISCV Boards</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../adp_xc7k_ae350/doc/index.html">Andes ADP-XC7K AE350</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../beaglev_starlight_jh7100/doc/index.html">BeagleV Starlight JH7100</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../esp32c3_devkitm/doc/index.html">ESP32-C3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gd32vf103c_starter/doc/index.html">GigaDevice GD32VF103C-STARTER</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gd32vf103v_eval/doc/index.html">GigaDevice GD32VF103V-EVAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../hifive1/doc/index.html">SiFive HiFive1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../hifive1_revb/doc/index.html">SiFive HiFive1 Rev B</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../hifive_unleashed/doc/index.html">SiFive HiFive Unleashed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../hifive_unmatched/doc/index.html">SiFive HiFive Unmatched</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../it8xxx2_evb/doc/index.html">ITE IT8XXX2 series</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">LiteX VexRiscv</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#litex-vexriscv-with-symbiflow">LiteX VexRiscv with SymbiFlow</a></li>
<li class="toctree-l4"><a class="reference internal" href="#programming-and-debugging">Programming and debugging</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../longan_nano/doc/index.html">Sipeed Longan Nano</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../m2gl025_miv/doc/index.html">Microsemi M2GL025 Mi-V</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../neorv32/doc/index.html">NEORV32</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../qemu_riscv32/doc/index.html">RISCV32 Emulation (QEMU)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../qemu_riscv64/doc/index.html">RISCV64 Emulation (QEMU)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../rv32m1_vega/doc/index.html">OpenISA VEGAboard</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tlsr9518adk80d/doc/index.html">Telink TLSR9518ADK80D</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../sparc/index.html">SPARC Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../shields/index.html">Shields</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../releases/index.html">Release Notes</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Zephyr Project</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../index.html">Supported Boards</a> &raquo;</li>
        
          <li><a href="../../index.html">RISCV Boards</a> &raquo;</li>
        
      <li>LiteX VexRiscv</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/boards/riscv/litex_vexriscv/doc/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="litex-vexriscv">
<span id="id1"></span><h1>LiteX VexRiscv<a class="headerlink" href="#litex-vexriscv" title="Permalink to this headline">¶</a></h1>
<p>LiteX VexRiscv is an example of a system on a chip (SoC) that consists of
a <a class="reference external" href="https://github.com/SpinalHDL/VexRiscv">VexRiscv processor</a>
and additional peripherals. This setup has been generated using
<a class="reference external" href="https://github.com/enjoy-digital/litex">LiteX SoC Builder</a> and can be used
on various FPGA chips. The bitstream (FPGA configuration file) can be
obtained using both vendor-specific tools and open-source tools, including the
<a class="reference external" href="https://symbiflow.github.io/">SymbiFlow toolchain</a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">litex_vexriscv</span></code> board configuration in Zephyr is meant for the
LiteX VexRiscv SoC implementation generated for the
<a class="reference external" href="https://store.digilentinc.com/arty-a7-artix-7-fpga-development-board-for-makers-and-hobbyists">Digilent Arty A7-35T Development Board</a>.</p>
<a class="reference internal image-reference" href="../../../../_images/litex_vexriscv.jpg"><img alt="LiteX VexRiscv on Digilent Arty 35T Board" class="align-center" src="../../../../_images/litex_vexriscv.jpg" style="width: 650px;" /></a>
<p>LiteX is based on
<a class="reference external" href="https://m-labs.hk/gateware/migen/">Migen</a>/<a class="reference external" href="https://github.com/m-labs/misoc">MiSoC SoC builder</a>
and provides ready-made system components such as buses, streams, interconnects,
common cores, and CPU wrappers to create SoCs easily. The tool contains
mechanisms for integrating, simulating, and building various designs
that target multiple chips of different vendors.
More information about the LiteX project can be found on
<a class="reference external" href="https://github.com/enjoy-digital/litex">LiteX’s website</a>.</p>
<p>VexRiscv is a 32-bit implementation of the RISC-V CPU architecture
written in the <a class="reference external" href="https://spinalhdl.github.io/SpinalDoc-RTD/">SpinalHDL</a>.
The processor supports M, C, and A RISC-V instruction
set extensions, with numerous optimizations that include multistage
pipelines and data caching. The project provides many optional extensions
that can be used to customize the design (JTAG, MMU, MUL/DIV extensions).
The implementation is optimized for FPGA chips.
More information about the project can be found on
<a class="reference external" href="https://github.com/SpinalHDL/VexRiscv">VexRiscv’s website</a>.</p>
<div class="section" id="litex-vexriscv-with-symbiflow">
<h2>LiteX VexRiscv with SymbiFlow<a class="headerlink" href="#litex-vexriscv-with-symbiflow" title="Permalink to this headline">¶</a></h2>
<p>To run the ZephyrOS on the VexRiscv CPU, it is necessary to prepare the
bitstream for the FPGA on a Digilent Arty A7-35 Board. This can be achieved
using the LiteX SoC Builder together with the SymbiFlow toolchain.</p>
<a class="reference internal image-reference" href="../../../../_images/symbiflow.svg"><img alt="SymbiFlow Logo" class="align-center" src="../../../../_images/symbiflow.svg" width="300px" /></a>
<p>SymbiFlow is an Open Source Verilog-to-Bitstream FPGA synthesis flow,
targeting FPGAs of multiple vendors. Currently, it targets the Xilinx 7-Series,
Lattice iCE40, Lattice ECP5 FPGAs, QuickLogic EOS S3 and is gradually being
expanded to provide a comprehensive end-to-end FPGA synthesis flow.
More information about the project can be found on
<a class="reference external" href="https://symbiflow.github.io/">Symbiflow’s website</a>.</p>
<div class="section" id="bitstream-generation">
<h3>Bitstream Generation<a class="headerlink" href="#bitstream-generation" title="Permalink to this headline">¶</a></h3>
<p>In order to generate the bitstream for the Digilent Arty A7-35 Board, proceed
with the following instruction:</p>
<ol class="arabic">
<li><p>Install the SymbiFlow toolchain using instruction available in the
<a class="reference external" href="https://github.com/SymbiFlow/symbiflow-examples">symbiflow-examples</a> repository.</p></li>
<li><p>Install the RISC-V toolchain:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget https://static.dev.sifive.com/dev-tools/riscv64-unknown-elf-gcc-8.1.0-2019.01.0-x86_64-linux-ubuntu14.tar.gz
tar -xf riscv64-unknown-elf-gcc-8.1.0-2019.01.0-x86_64-linux-ubuntu14.tar.gz
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$PWD</span>/riscv64-unknown-elf-gcc-8.1.0-2019.01.0-x86_64-linux-ubuntu14/bin/
</pre></div>
</div>
</li>
<li><p>Download LiteX:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget https://raw.githubusercontent.com/enjoy-digital/litex/master/litex_setup.py
chmod +x litex_setup.py
./litex_setup.py init
./litex_setup.py install
</pre></div>
</div>
</li>
<li><p>Generate the bitstream:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> litex/litex/boards/targets <span class="o">&amp;&amp;</span> ./arty.py --toolchain symbiflow --cpu-type vexriscv --sys-clk-freq 80e6 --build
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="programming-and-debugging">
<h2>Programming and debugging<a class="headerlink" href="#programming-and-debugging" title="Permalink to this headline">¶</a></h2>
<div class="section" id="building">
<h3>Building<a class="headerlink" href="#building" title="Permalink to this headline">¶</a></h3>
<p>Applications for the <code class="docutils literal notranslate"><span class="pre">litex_vexriscv</span></code> board configuration can be built as usual
(see <a class="reference internal" href="../../../../application/index.html#build-an-application"><span class="std std-ref">Building an Application</span></a>).
In order to build the application for <code class="docutils literal notranslate"><span class="pre">litex_vexriscv</span></code>, set the <code class="docutils literal notranslate"><span class="pre">BOARD</span></code> variable
to <code class="docutils literal notranslate"><span class="pre">litex_vexriscv</span></code>.</p>
</div>
<div class="section" id="booting">
<h3>Booting<a class="headerlink" href="#booting" title="Permalink to this headline">¶</a></h3>
<p>You can boot from a serial port using <a class="reference external" href="https://github.com/timvideos/flterm">flterm:</a>, e.g.:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>flterm --port /dev/ttyUSB0 --kernel &lt;path_to_zephyr.bin&gt; --kernel-adr 0x40000000
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../longan_nano/doc/index.html" class="btn btn-neutral float-right" title="Sipeed Longan Nano" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../../it8xxx2_evb/doc/index.html" class="btn btn-neutral" title="ITE IT8XXX2 series" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; <a href="../../../../copyright.html">Copyright</a> 2015-2022 Zephyr Project members and individual contributors.
      Last updated on May 10, 2022.

    </p>
</td>
<td id="zcanlogo">
  <a href="https://www.unisim-micro.com/"><img src="../../../../_static/images/zcan.svg" border="0" style="position:static"/></a>
</td>
</tr>
</table>
  </div> 


</footer>
        </div>
      </div>

    </section>

  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Zephyr Project</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version zcansdk">
        <a href="../../../../../zcansdk/index.html">ZCAN IOT SDK</a>
      </div>
      
      <div class="rst-other-version zcanxlib">
        <a href="../../../../../zcanxlib/README.html">ZCAN Xlib</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version sof">
        <a href="../../../../../sof/index.html">SOF</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>