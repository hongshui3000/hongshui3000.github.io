

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Generic LEON3 &mdash; Zephyr Project Documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/zc.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/zc.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/common.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/zephyr.css" type="text/css" />

  
  

  
  

  

  
  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-210766333-2"></script>
        <script src="../../../../_static/js/ga-tracker.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
  <script type="text/javascript" src="../../../../_static/js/zcaniot.js"></script>

    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="copyright" title="Copyright" href="../../../../copyright.html" />
    <link rel="next" title="GR716-MINI Development Board" href="../../gr716a_mini/doc/index.html" />
    <link rel="prev" title="SPARC Boards" href="../../index.html" />
  <link rel="shortcut icon" href="../../../../_static/images/favicon.ico"/>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> Zephyr Project
          

          
          </a>

          
            
            
              <div class="version">
                3.0.99
              </div>
            
          

          
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../getting_started/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contribute/index.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../development_process/index.html">Development and Contribution Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../guides/build/index.html">Build and Configuration Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../application/index.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../guides/index.html">User and Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../samples/index.html">Samples and Demos</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Supported Boards</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../x86/index.html">x86 Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../arm/index.html">ARM Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../arm64/index.html">ARM64 Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../arc/index.html">ARC Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../mips/index.html">MIPS Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../nios2/index.html">NIOS II Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../xtensa/index.html">XTENSA Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../posix/index.html">POSIX/NATIVE Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../riscv/index.html">RISCV Boards</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">SPARC Boards</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Generic LEON3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hardware">Hardware</a></li>
<li class="toctree-l4"><a class="reference internal" href="#programming-and-debugging">Programming and Debugging</a></li>
<li class="toctree-l4"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../gr716a_mini/doc/index.html">GR716-MINI Development Board</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../qemu_leon3/doc/index.html">LEON3 Emulation (QEMU)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../shields/index.html">Shields</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../releases/index.html">Release Notes</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Zephyr Project</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../index.html">Supported Boards</a> &raquo;</li>
        
          <li><a href="../../index.html">SPARC Boards</a> &raquo;</li>
        
      <li>Generic LEON3</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/boards/sparc/generic_leon3/doc/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="generic-leon3">
<span id="id1"></span><h1>Generic LEON3<a class="headerlink" href="#generic-leon3" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>This board configuration is designed to work with LEON3 processor template
designs available in the GRLIB GPL distribution.
It can also be used with the evaluation version of the TSIM3 LEON3 simulator.</p>
</div>
<div class="section" id="hardware">
<h2>Hardware<a class="headerlink" href="#hardware" title="Permalink to this headline">¶</a></h2>
<p>The board configuration is compatible with most GRLIB LEON3 FPGA template
designs such as the Digilent Arty A7, Terasic DE0-Nano and Microsemi
M2GL-EVAL-KIT.</p>
</div>
<div class="section" id="programming-and-debugging">
<h2>Programming and Debugging<a class="headerlink" href="#programming-and-debugging" title="Permalink to this headline">¶</a></h2>
<div class="section" id="building">
<h3>Building<a class="headerlink" href="#building" title="Permalink to this headline">¶</a></h3>
<p>Applications for the <code class="docutils literal notranslate"><span class="pre">generic_leon3</span></code> board configuration can be built as usual
(see <a class="reference internal" href="../../../../application/index.html#build-an-application"><span class="std std-ref">Building an Application</span></a>).
In order to build the application for <code class="docutils literal notranslate"><span class="pre">generic_leon3</span></code>, set the <code class="docutils literal notranslate"><span class="pre">BOARD</span></code> variable
to <code class="docutils literal notranslate"><span class="pre">generic_leon3</span></code>.</p>
</div>
<div class="section" id="running-on-hardware">
<h3>Running on hardware<a class="headerlink" href="#running-on-hardware" title="Permalink to this headline">¶</a></h3>
<p>Connect with GRMON, then load and run the application. The example below uses
the Terasic DE2-115 Cyclone IV FPGA board.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>grmon -altjtag -u
<span class="go">  GRMON debug monitor v3.2.8 eval version</span>

<span class="go">  Copyright (C) 2020 Cobham Gaisler - All rights reserved.</span>
<span class="go">  For latest updates, go to http://www.gaisler.com/</span>
<span class="go">  Comments or bug-reports to support@gaisler.com</span>

<span class="go">JTAG chain (1): EP3C120/EP4CE115</span>
<span class="go">  GRLIB build version: 4250</span>
<span class="go">  Detected frequency:  50.0 MHz</span>

<span class="go">  Component                            Vendor</span>
<span class="go">  LEON3 SPARC V8 Processor             Cobham Gaisler</span>
<span class="go">  AHB Debug UART                       Cobham Gaisler</span>
<span class="go">  JTAG Debug Link                      Cobham Gaisler</span>
<span class="go">  GR Ethernet MAC                      Cobham Gaisler</span>
<span class="go">  GRDMAC DMA Controller                Cobham Gaisler</span>
<span class="go">  LEON2 Memory Controller              European Space Agency</span>
<span class="go">  AHB/APB Bridge                       Cobham Gaisler</span>
<span class="go">  LEON3 Debug Support Unit             Cobham Gaisler</span>
<span class="go">  Generic UART                         Cobham Gaisler</span>
<span class="go">  Multi-processor Interrupt Ctrl.      Cobham Gaisler</span>
<span class="go">  Modular Timer Unit                   Cobham Gaisler</span>
<span class="go">  General Purpose I/O port             Cobham Gaisler</span>
<span class="go">  SPI Controller                       Cobham Gaisler</span>
<span class="go">  AHB Status Register                  Cobham Gaisler</span>

<span class="go">  Use command &#39;info sys&#39; to print a detailed report of attached cores</span>

<span class="go">grmon3&gt; load zephyr/zephyr.elf</span>
<span class="go">      40000000 text              16.2kB /  16.2kB   [===============&gt;] 100%</span>
<span class="go">      400040A8 initlevel           40B              [===============&gt;] 100%</span>
<span class="go">      400040D0 rodata             484B              [===============&gt;] 100%</span>
<span class="go">      400042B4 datas               20B              [===============&gt;] 100%</span>
<span class="go">      400042C8 sw_isr_table       256B              [===============&gt;] 100%</span>
<span class="go">      400043C8 devices             36B              [===============&gt;] 100%</span>
<span class="go">  Total size: 16.98kB (1.91Mbit/s)</span>
<span class="go">  Entry point 0x40000000</span>
<span class="go">  Image zephyr/zephyr.elf loaded</span>

<span class="go">grmon3&gt; run</span>
<span class="go">*** Booting Zephyr OS build zephyr-v2.4.0-30-ga124c31ec4cf  ***</span>
<span class="go">Hello World! generic_leon3</span>
</pre></div>
</div>
</div>
<div class="section" id="running-in-simulation">
<h3>Running in simulation<a class="headerlink" href="#running-in-simulation" title="Permalink to this headline">¶</a></h3>
<p>The same application binary can be simulated with the TSIM3 LEON3 simulator.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tsim-leon3
<span class="go"> TSIM3 LEON3 SPARC simulator, version 3.0.2 (evaluation version)</span>

<span class="go"> Copyright (C) 2020, Cobham Gaisler - all rights reserved.</span>
<span class="go"> This software may only be used with a valid license.</span>
<span class="go"> For latest updates, go to https://www.gaisler.com/</span>
<span class="go"> Comments or bug-reports to support@gaisler.com</span>

<span class="go">Number of CPUs: 2</span>
<span class="go">system frequency: 50.000 MHz</span>
<span class="go">icache: 1 * 4 KiB, 16 bytes/line (4 KiB total)</span>
<span class="go">dcache: 1 * 4 KiB, 16 bytes/line (4 KiB total)</span>
<span class="go">Allocated 4096 KiB SRAM memory, in 1 bank at 0x40000000</span>
<span class="go">Allocated 32 MiB SDRAM memory, in 1 bank at 0x60000000</span>
<span class="go">Allocated 2048 KiB ROM memory at 0x00000000</span>

<span class="go">tsim&gt; load zephyr/zephyr.elf</span>
<span class="go">  section: text, addr: 0x40000000, size 16552 bytes</span>
<span class="go">  section: initlevel, addr: 0x400040a8, size 40 bytes</span>
<span class="go">  section: rodata, addr: 0x400040d0, size 484 bytes</span>
<span class="go">  section: datas, addr: 0x400042b4, size 20 bytes</span>
<span class="go">  section: sw_isr_table, addr: 0x400042c8, size 256 bytes</span>
<span class="go">  section: devices, addr: 0x400043c8, size 36 bytes</span>
<span class="go">  Read 436 symbols</span>
<span class="go">tsim&gt; run</span>
<span class="go">  Initializing and starting from 0x40000000</span>
<span class="go">*** Booting Zephyr OS build zephyr-v2.4.0-30-ga124c31ec4cf  ***</span>
<span class="go">Hello World! generic_leon3</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.gaisler.com/index.php/downloads/leongrlib">GRLIB IP Library and LEON3, GPL version</a></p></li>
<li><p><a class="reference external" href="https://www.gaisler.com/index.php/products/simulators/tsim3/tsim3-leon3">TSIM3 LEON3 simulator</a></p></li>
<li><p><a class="reference external" href="https://www.gaisler.com/index.php/products/debug-tools/grmon3">GRMON3 debug monitor</a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../gr716a_mini/doc/index.html" class="btn btn-neutral float-right" title="GR716-MINI Development Board" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../../index.html" class="btn btn-neutral" title="SPARC Boards" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; <a href="../../../../copyright.html">Copyright</a> 2015-2022 Zephyr Project members and individual contributors.
      Last updated on May 10, 2022.

    </p>
</td>
<td id="zcanlogo">
  <a href="https://www.unisim-micro.com/"><img src="../../../../_static/images/zcan.svg" border="0" style="position:static"/></a>
</td>
</tr>
</table>
  </div> 


</footer>
        </div>
      </div>

    </section>

  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Zephyr Project</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version zcansdk">
        <a href="../../../../../zcansdk/index.html">ZCAN IOT SDK</a>
      </div>
      
      <div class="rst-other-version zcanxlib">
        <a href="../../../../../zcanxlib/README.html">ZCAN Xlib</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version sof">
        <a href="../../../../../sof/index.html">SOF</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>